{"version":3,"sources":["webpack:///webpack/bootstrap 01064f96f153b6ae8610?57cf*****","webpack:///./app/javascript/packs/common/csrf.js?6189**","webpack:///./app/javascript/packs/modules/tweetBox.js","webpack:///./app/javascript/packs/entries/homepage.js","webpack:///./app/javascript/packs/common/handleMethod2.js?5235"],"names":["rorParams","csrfToken","document","querySelector","getAttribute","csrfParam","isCrossDomain","originAnchor","createElement","href","location","urlAnchor","url","protocol","host","e","f","fa","fd","tb","tbdString","tbd","tbt","tbtpd","postText","submitBtn","inputs","label","labelVal","fileName","$micropost_picture","doc","setFocus","el","range","createRange","sel","window","getSelection","setStart","collapse","removeAllRanges","addRange","bindKeyDown","getElementsByTagName","textContent","classList","remove","innerHTML","bindKeyUp","setTimeout","bindFocus","innerText","trim","length","add","bindImgInputChange","size_in_megabytes","files","size","alert","bindSubmitBtn","ev","preventDefault","value","action","FormData","A","spf","load","method","postData","onProcess","evt","exitTweetBox","onDone","tweetBox","bindImgUpload","replace","target","split","pop","changeSubmitBtnBehavior","getElementsByClassName","getElementById","dataset","placeholderDefault","nextElementSibling","addEventListener","bind","removeEventListener","cname","gc","currentName","hmInstance","processDataLink","tagName","handleMethod","disposeHomepage","initHomepage","bindClick","removeBindClick","fnpuLoad","process","done","init","destroy","link","linkMethod","obj","RPs","paramsObj","formEle","createForm","params","style","display","setAttribute","i","s","undefined","appendChild","appendFormToDom","form","body","submitForm","submit"],"mappings":"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","file":"homepage.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/packs/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 75);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 01064f96f153b6ae8610","export let rorParams = {\n  // Up-to-date Cross-Site Request Forgery token\n  csrfToken: () => document.querySelector('meta[name=csrf-token]').getAttribute('content'),\n  // URL param that must contain the CSRF token\n  csrfParam: () => document.querySelector('meta[name=csrf-param]').getAttribute('content'),\n  // Determines if the request is a cross domain request.\n  isCrossDomain: url => {\n    let originAnchor = document.createElement('a')\n    originAnchor.href = location.href\n    let urlAnchor = document.createElement('a')\n\n    try {\n      urlAnchor.href = url\n      // This is a workaround to a IE bug.\n      urlAnchor.href = urlAnchor.href\n\n      // If URL protocol is false or is a string containing a single colon\n      // *and* host are false, assume it is not a cross-domain request\n      // (should only be the case for IE7 and IE compatibility mode).\n      // Otherwise, evaluate protocol and host of the URL against the origin\n      // protocol and host.\n      return !(((!urlAnchor.protocol || urlAnchor.protocol === ':') && !urlAnchor.host) ||\n        (originAnchor.protocol + '//' + originAnchor.host ===\n          urlAnchor.protocol + '//' + urlAnchor.host))\n    } catch (e) {\n      // If there is an error parsing the URL, assume it is crossDomain.\n      return true\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/csrf.js","let f, fa, fd, tb, tbdString, tbd, tbt, tbtpd, postText, submitBtn, inputs, label, labelVal, fileName\nlet $micropost_picture\nlet doc = document\nfunction setFocus (el) {\n  var range = document.createRange()\n  var sel = window.getSelection()\n  range.setStart(el, 0)\n  range.collapse(true)\n  sel.removeAllRanges()\n  sel.addRange(range)\n}\nfunction bindKeyDown () {\n  if (tb.getElementsByTagName('div')[0] && tb.getElementsByTagName('div')[0].textContent) {\n    tb.classList.remove('showPlaceholder')\n  };\n  if (tb.innerHTML === '<br>') {\n    tb.innerHTML = tbdString\n    setFocus(tb.getElementsByTagName('div')[0])\n  }\n}\n\nfunction bindKeyUp () {\n  if (tb.innerHTML) {\n    if (tb.getElementsByTagName('div')[0] && tb.getElementsByTagName('div')[0].textContent) {\n      tb.classList.remove('showPlaceholder')\n    } else {};\n  } else {\n    tb.innerHTML = tbdString\n    setTimeout(function () {\n      setFocus(tb.getElementsByTagName('div')[0])\n    }, 0)\n  };\n}\n\nfunction bindFocus () {\n  tb.classList.remove('condensed')\n  if (tb.getElementsByTagName('div') && tb.getElementsByTagName('div')[0].innerText.trim().length) {\n    tb.classList.remove('showPlaceholder')\n  } else {\n    tb.classList.add('showPlaceholder')\n  }\n  if (tbd.innerHTML === tbtpd) {\n    tbd.innerHTML = '<br>'\n  }\n}\n\nfunction bindImgInputChange () {\n  let size_in_megabytes = this.files[0].size / 1024 / 1024\n  if (size_in_megabytes > 5) {\n    alert('Maximum file size is 5MB. Please choose a smaller file.')\n  }\n}\n\nfunction bindSubmitBtn (ev) {\n  ev.preventDefault()\n  if (tbt.textContent.trim() === tbtpd) {\n    postText.value = ''\n  } else {\n    postText.value = tbt.textContent.trim()\n  }\n  fa = f.action\n  fd = new FormData(f)\n  window.A.spf.load(fa, {\n    method: 'POST',\n    postData: fd,\n    onProcess: function (evt) {\n      exitTweetBox()\n    },\n    onDone: function (evt) {\n      tweetBox()\n    }\n  })\n}\n\nfunction bindImgUpload (e) {\n  fileName = ''\n  if (this.files && this.files.length > 1) { fileName = (this.getAttribute('data-multiple-caption') || '').replace('{count}', this.files.length) } else { fileName = e.target.value.split('\\\\').pop() }\n\n  if (fileName) { label.getElementsByTagName('span')[0].innerHTML = fileName } else { label.getElementsByTagName('span')[0].innerHTML = labelVal }\n}\n\nfunction changeSubmitBtnBehavior () {\n\n}\n\nexport function tweetBox () {\n  tb = doc.getElementsByClassName('tweet-box')[0]\n  if (!tb) return null\n  tbd = tb.getElementsByTagName('div')[0]\n  tbdString = '<div><br></div>'\n  f = doc.getElementById('new_micropost')\n  $micropost_picture = doc.getElementById('micropost_picture')\n  tbt = doc.getElementsByClassName('tweet-box-text')[0]\n  tbtpd = tbt.dataset.placeholderDefault\n  postText = doc.getElementsByClassName('new-post-text')[0]\n  submitBtn = doc.getElementsByClassName('btn-submit')[0]\n  inputs = doc.getElementsByClassName('micropost-input-file')[0]\n  label = inputs.nextElementSibling,\n  labelVal = label.innerHTML\n\n  tb.addEventListener('focus', bindFocus)\n  tb.addEventListener('keyup', bindKeyUp)\n  tb.addEventListener('keydown', bindKeyDown)\n  $micropost_picture.addEventListener('change', bindImgInputChange.bind($micropost_picture))\n  submitBtn.addEventListener('click', bindSubmitBtn)\n  inputs.addEventListener('change', bindImgUpload.bind(inputs))\n}\n\nexport function exitTweetBox () {\n  tb.removeEventListener('focus', bindFocus)\n  tb.removeEventListener('keyup', bindKeyUp)\n  tb.removeEventListener('keydown', bindKeyDown)\n  $micropost_picture.removeEventListener('change', bindImgInputChange.bind(this))\n  submitBtn.removeEventListener('click', bindSubmitBtn)\n  inputs.removeEventListener('change', bindImgUpload.bind(this))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/modules/tweetBox.js","import {tweetBox, exitTweetBox} from '../modules/tweetBox'\nimport {handleMethod} from '../common/handleMethod2'\n\nlet cname = A.gc.currentName\nlet hmInstance\nlet fd, fa\n\nfunction processDataLink (ev) {\n  let e = window.e || ev\n\n  if (e.target.tagName !== 'A') return\n\n  if (e.target.dataset.method === 'fnpu_delete') {\n    e.preventDefault()\n    hmInstance = handleMethod(e.target, 'delete')\n    fa = e.target.getAttribute('href')\n    fd = new FormData(hmInstance)\n    window.A.spf.load(fa, {\n      method: 'POST',\n      postData: fd,\n      onProcess: function (evt) {\n        disposeHomepage()\n      },\n      onDone: function (evt) {\n        initHomepage()\n      }\n    })\n  }\n}\nfunction bindClick () {\n  document.addEventListener('click', processDataLink, false)\n}\nfunction removeBindClick () {\n  document.removeEventListener('click', processDataLink, false)\n}\n\nfunction initHomepage () {\n\t// bindClick();\n  tweetBox()\n}\n\nfunction disposeHomepage () {\n\t// removeBindClick();\n  exitTweetBox()\n}\n\n(function () {\n  A.fnpuLoad[A.gc.currentName] = {\n    process: disposeHomepage,\n    done: initHomepage\n  }\n  A.init[A.gc.currentName] = initHomepage\n  A.destroy[A.gc.currentName] = disposeHomepage\n})()\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/entries/homepage.js","import {rorParams as RPs} from '../common/csrf'\n/**\n * [handleMethod description]\n * @param  {HTMLElement} link [description]\n * @return {[type]}      [description]\n * Handles \"data-method\" on links such as:\n * <a href=\"/users/5\" data-method=\"delete\" rel=\"nofollow\" data-confirm=\"Are you sure?\">Delete</a>\n */\nexport function handleMethod (link, linkMethod, obj = {}) {\n  var href = link.getAttribute('href'),\n    method = linkMethod,\n    target = link.getAttribute('target'),\n    csrfToken = RPs.csrfToken(),\n    csrfParam = RPs.csrfParam()\n  var paramsObj = {\n    href: href,\n    method: method,\n    target: target,\n    csrfToken: csrfToken,\n    csrfParam: csrfParam\n  }\n  var formEle = createForm(paramsObj, obj)\n  // appendFormToDom(formEle);\n  return formEle\n  // submitForm(formEle);\n}\nfunction createForm (params, obj) {\n  var f = document.createElement('form')\n  f.style.display = 'none'\n  f.setAttribute('method', 'post')\n  f.setAttribute('action', params.href)\n  if (params.target) {\n    f.setAttribute('target', params.target)\n  };\n\n  var i = document.createElement('input')\n  i.setAttribute('type', 'hidden')\n  i.setAttribute('name', '_method')\n  i.setAttribute('value', params.method)\n\n  var s\n  if (params.csrfParam !== undefined &&\n      params.csrfToken !== undefined &&\n      !RPs.isCrossDomain(params.href)) {\n    s = document.createElement('input')\n    s.setAttribute('type', 'hidden')\n    s.setAttribute('name', params.csrfParam)\n    s.setAttribute('value', params.csrfToken)\n  }\n  f.appendChild(i)\n\n  // for (let key in obj.data) {\n  //   if (obj.data.hasOwnProperty(key)) {\n  //     let t = document.createElement('input');\n  //     t.setAttribute('type','hidden');\n  //     t.setAttribute('name','' + obj.ns + '[' + key + ']');\n  //     t.setAttribute('value',obj.data[key]);\n  //     f.appendChild(t);\n  //   }\n  // }\n\n  if (s) {\n    f.appendChild(s)\n  };\n  return f\n}\n\nfunction appendFormToDom (form) {\n  document.body.appendChild(form)\n}\nfunction submitForm (form) {\n  form.submit()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/handleMethod2.js"],"sourceRoot":""}