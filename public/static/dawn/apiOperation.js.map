{"version":3,"sources":["webpack:///webpack/bootstrap 431504cf862a379ccdfd?1fd0","webpack:///./app/javascript/packs/common/utilities.js","webpack:///./app/javascript/packs/common/csrf.js?6189","webpack:///./app/javascript/packs/common/toggleScroll.js","webpack:///./app/javascript/packs/common/ajax.js","webpack:///./app/javascript/packs/common/flash.js","webpack:///./app/javascript/packs/common/popup.js","webpack:///./app/javascript/packs/common/serialize.js","webpack:///./app/javascript/packs/api-tree/tree.js","webpack:///./app/javascript/packs/common/twoWayDataBinding.js","webpack:///./app/javascript/packs/global/constant.js","webpack:///./app/javascript/packs/modules/apiOperation.js","webpack:///./app/javascript/packs/api-tree/jsonTreeConverter.js","webpack:///./app/javascript/packs/api-tree/queue.js","webpack:///./app/javascript/packs/api-tree/treeDataCollect.js","webpack:///./app/javascript/packs/api-tree/treeDom.js","webpack:///./app/javascript/packs/api-tree/utilities.js","webpack:///./app/javascript/packs/common/callbacks.js","webpack:///./app/javascript/packs/common/htmlEscape.js","webpack:///./app/javascript/packs/common/scroll.js","webpack:///./app/javascript/packs/common/slide.js","webpack:///./app/javascript/packs/common/template.js","webpack:///./app/javascript/packs/entries/apiOperation.js"],"names":["isEmpty","obj","Object","keys","length","cloneObj","JSON","parse","stringify","mergeObj","obj1","obj2","newObj","key","hasOwnProperty","addPrefixToObj","prefix","wrapObj","wrapper","strToDom","str","tmpEle","document","createElement","innerHTML","returnDom","children","insertAfter","newNode","referenceNode","parentNode","insertBefore","nextSibling","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","isStrictMode","isStrict","generateUUID","replace","c","r","Math","random","v","toString","rorParams","csrfToken","querySelector","getAttribute","csrfParam","isCrossDomain","originAnchor","href","location","urlAnchor","url","protocol","host","e","preventDefault","window","event","returnValue","preventDefaultForScrollKeys","keyCode","disableScroll","addEventListener","onwheel","onmousewheel","ontouchmove","onkeydown","enableScroll","removeEventListener","$http","core","ajax","method","promise","Promise","resolve","reject","client","XMLHttpRequest","uri","extendGeneralParams","open","setRequestHeader","send","serialize","onload","status","response","responseText","onerror","err","RPs","generalObj","utf8","format","flash","data","callback","flashEle","flashTpl","body","appendChild","destory","bind","error","message","ele","removeChild","classList","add","parseAndFlash","jsonData","popup","ev","params","popupEle","generatePopupTpl","positionPopupEle","bindPopupEvents","tpl","getElementsByClassName","closePopup","confirm","coordinates","style","transform","clientX","clientY","target","currentTarget","popLayer","closest","p","k","push","encodeURIComponent","join","Tree","node","Node","_root","nodeId","parent","childrenlevel","column","totaloffsetylevel","prototype","traverseDF","recurse","currentNode","i","calcChildrenLevels","totalChildrenLevels","calcChildrenLevel","calcOffY","arr","nodeIdx","findIndex","totalY","calcTotalOffsetYLevel","levelgap","traverseBF","queue","enqueue","currentTree","dequeue","contains","traversal","call","toData","child","Error","checkDataHasChild","remove","fromData","tree","childToRemove","index","undefined","splice","traverseDirectChild","nodedata","applyStyle","styleObj","traverseDescendants","nodeData","descendantsArr","hasChild","maxId","maxNodeId","depth","depthArr","dimensions","horiMax","verticalMax","horiArr","max","twoWayDataBinding","domContext","model","forEach","value","defineProperty","enumerable","get","set","val","selectorToArray","concat","el","hasAttribute","textContent","hasActiveEle","elAndDescendants","setAttribute","activeElement","handler","selector","Array","slice","querySelectorAll","matches","resultArr","loop","childrenEles","childElementCount","bol","rootAPI","origin","payload","apisArr","getApiSuccess","addApiTree","getAllApisSuccess","dataBak","JSONBak","newApiBtn","renderAllApis","bindevents","listenApiQuery","patchSuccess","postSuccess","deleteSuccess","destoryApiLi","apiQuerySuccess","searchList","dataObj","contentStr","Len","section","description","success","console","log","initApiOperation","getAllApis","disposeApiOperation","debouncedApiQueryInput","apiQuery","apiQueryInput","inWrapper","parentElement","checkIfFocus","clearSearchResult","q","then","catch","apiSearchResultEle","toggleFoldLi","toggle","bindEventToApiLiDescription","nextElementSibling","dataset","apiId","apiLis","element","containerNode","isNewApi","newApi","debouncedNewApiBtn","processNewApiClick","debouncedEnvBtn","processOpenEnvSettings","content","slideContent","slide","tplStr","apiUl","createApiUl","baseApiLi","newApiLiTpl","firstChild","apiListEle","apiUlEle","newApiDiv","id","wikiLink","tmpl","map","item","jsonToTree","nodesArr","hashTable","nodesLen","modKeysArr","removeEleFromArr","Number","sort","sortNumber","rootNodeData","j","keysLen","keyArrLen","indexOf","a","b","treeToJson","Queue","_oldestIndex","_newestIndex","_storage","size","oldestIndex","newestIndex","deletedData","collectApiData","opEle","perApiEle","collectInfo","collectDataFromTree","infoEle","ModesRowEle","infoData","getModeVal","getDebugAddr","radios","modeVal","checked","collectTree","treeEle","leaves","treeDataArr","treeDataObj","leafData","leavesLen","parentId","quantity","nodes","apiTree","dimensionsArr","hUnit","vUnit","perApiTpl","apiUUID","patchOrPost","saveOrCreate","leafTpl","leafContentTpl","initRectObj","right","bottom","left","top","width","height","leafDataPlaceHolder","dataName","dataType","dataValue","dataQuantity","perLeafWidth","perLeafHeight","leavesVerticalGap","perSVGPathWidth","rootNodeWidth","apiRawData","apiDataObj","apiContainer","apiRespondSuccess","jsonObj","previewData","previewDataObj","switchPreview","eventContext","createPerApi","createNewApiInitData","initData","firstChildData","mode","debugAddr","ApiDom","apiBindData","apiEle","leafIndex","$apiTree","$apiTreeFrame","$apiTreeContent","renderExistTree","apiReturnData","bindEvent","setModeVal","setDebugAddr","scrollBar","scrollBarH","overflowEle","docFrag","createDocumentFragment","perTWDBArr","leaf","perTWDB","len","generateLeaf","calcDimensions","drawSVG","newLeafSpan","round","_this","evTargetClassList","_ev","domContainer","patch","post","addChild","deleteApi","delNode","dawn_uri","fn","previewContext","previewType","previewStr","jsonView","switchPreviewStatus","applyType","previewTypes","apiRespondPreviewEle","apiRespondPreviewEleClassArr","className","trim","split","array","idx","previewTypeElesArr","apiSave","addLeafChild","removeLeafChild","apiTest","$pre","$dataViewEle","delete","callbacks","storeApiReturnData","$dataBeautify","click","initApiTree","treeDocFrag","leafEle","leafBindData","ctx","currentLeaf","currentIdx","parentIdx","idxArr","nodesArrToIdxArr","removeNodesFromDom","styleNodes","setParentNodeVal","render","allLeaves","allLeavesLen","nodesArrLen","queueLen","x","parentIdex","leafChild","createLeaf","childModel","generateLeafSpan","nodeIndex","leavesHash","dimensionArr","cloneRectObj","clearSVG","svg","lastChild","that","svgPartials","createSingleSVG","hori","parentVert","dvert","svgns","newPath","createElementNS","controlRate","mx","my","qx","qy","qxx","qyy","tx","ty","setAttributeNS","vertArr","nodeLeftOffset","elRectObject","getBoundingClientRect","bodyRectObj","cloneBodyRectObj","cloneElRectObject","abs","getMaxOfArray","numArray","hasClass","elem","browserPrefix","ua","navigator","userAgent","toLowerCase","openDatabase","opera","all","getTransform","getComputedStyle","getPropertyValue","results","match","getTranslateX","getTranslateY","webkitTransform","mozTransform","mat","parseFloat","beautifyJSON","jsObj","hightlightJSON","json","cls","test","htmlEscape","generateScrollStr","scrollStr","options","newScrollStr","newScrollEle","Y","scrollbar","N","initPos","M","initDom","U","mousewheel","l","mousewheellock","H","wheeldelta","z","ctrlblock","J","step","I","scale","G","theme","ad","refresh","S","T","h","V","ag","af","parseInt","scrollLeft","g","u","F","ae","W","Q","R","m","C","L","d","t","ab","P","D","y","X","clearInterval","offsetWidth","ah","display","o","Z","memOffsetX","offsetLeft","scrollWidth","setInterval","onDragstart","s","onselectstart","n","f","aa","K","O","E","ac","B","offsetX","layerX","debouncedWindowResize","reRender","dispose","slideEle","generateSlideTpl","positionSlideEle","bindSlideEvents","closeSlide","clickShadow","html","literalSections","raw","result","substs","subst","lit","isArray","endsWith","A","init","gc","currentName","destroy"],"mappings":"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","file":"apiOperation.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/dawn/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 69);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 431504cf862a379ccdfd","export function isEmpty (obj) {\n  return Object.keys(obj).length === 0\n}\nexport function cloneObj (obj) {\n  return JSON.parse(JSON.stringify(obj))\n}\n/* consider Object.assign(target, ...sources) */\nexport function mergeObj (obj1 = {}, obj2) {\n  let newObj = JSON.parse(JSON.stringify(obj1))\n  for (let key in obj2) {\n    if (obj2.hasOwnProperty(key)) {\n      newObj[key] = obj2[key]\n    }\n  }\n  return newObj\n}\nexport function addPrefixToObj (obj, prefix) {\n  if (!prefix) return obj\n  let newObj = {}\n  for (let key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      newObj['' + prefix + '[' + key + ']'] = obj[key]\n    }\n  }\n  return newObj\n}\nexport function wrapObj (obj, wrapper) {\n  if (!wrapper) return obj\n  var newObj = {}\n  newObj[wrapper] = {}\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      newObj[wrapper][key] = obj[key]\n    }\n  }\n  return newObj\n}\n\nexport function strToDom (str) {\n  let tmpEle = document.createElement('div')\n  tmpEle.innerHTML = str\n  let returnDom = tmpEle.children[0]\n  return returnDom\n}\n/**\n * [insertAfter description: According to MDN if the element is last (and so nextSibling is null) the newNode will be appended as expected]\n * @param  {[type]} newNode       [description]\n * @param  {[type]} referenceNode [description]\n * @return {undefined}               [description]\n */\nexport function insertAfter (newNode, referenceNode) {\n  referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling)\n}\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n/*\nvar myEfficientFn = debounce(function() {\n  // All the taxing stuff you do\n}, 250);\n\nwindow.addEventListener('resize', myEfficientFn);\n */\nexport function debounce (func, wait, immediate) {\n  var timeout\n  return function () {\n    var context = this, args = arguments\n    var later = function () {\n      timeout = null\n      if (!immediate) func.apply(context, args)\n    }\n    var callNow = immediate && !timeout\n    clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n    if (callNow) func.apply(context, args)\n  }\n};\n\nexport function isStrictMode () {\n  var isStrict = (function () { return !this })()\n  return isStrict\n}\n\nexport function generateUUID () {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    let r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8)\n    return v.toString(16)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/utilities.js","export let rorParams = {\n  // Up-to-date Cross-Site Request Forgery token\n  csrfToken: () => document.querySelector('meta[name=csrf-token]').getAttribute('content'),\n  // URL param that must contain the CSRF token\n  csrfParam: () => document.querySelector('meta[name=csrf-param]').getAttribute('content'),\n  // Determines if the request is a cross domain request.\n  isCrossDomain: url => {\n    let originAnchor = document.createElement('a')\n    originAnchor.href = location.href\n    let urlAnchor = document.createElement('a')\n\n    try {\n      urlAnchor.href = url\n      // This is a workaround to a IE bug.\n      urlAnchor.href = urlAnchor.href\n\n      // If URL protocol is false or is a string containing a single colon\n      // *and* host are false, assume it is not a cross-domain request\n      // (should only be the case for IE7 and IE compatibility mode).\n      // Otherwise, evaluate protocol and host of the URL against the origin\n      // protocol and host.\n      return !(((!urlAnchor.protocol || urlAnchor.protocol === ':') && !urlAnchor.host) ||\n        (originAnchor.protocol + '//' + originAnchor.host ===\n          urlAnchor.protocol + '//' + urlAnchor.host))\n    } catch (e) {\n      // If there is an error parsing the URL, assume it is crossDomain.\n      return true\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/csrf.js","// left: 37, up: 38, right: 39, down: 40,\n// spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36\nvar keys = {37: 1, 38: 1, 39: 1, 40: 1}\n\nfunction preventDefault (e) {\n  e = e || window.event\n  if (e.preventDefault) { e.preventDefault() }\n  e.returnValue = false\n}\n\nfunction preventDefaultForScrollKeys (e) {\n  if (keys[e.keyCode]) {\n    preventDefault(e)\n    return false\n  }\n}\n\nexport function disableScroll () {\n  if (window.addEventListener) // older FF\n    { window.addEventListener('DOMMouseScroll', preventDefault, false) }\n  window.onwheel = preventDefault // modern standard\n  window.onmousewheel = document.onmousewheel = preventDefault // older browsers, IE\n  window.ontouchmove = preventDefault // mobile\n  document.onkeydown = preventDefaultForScrollKeys\n}\n\nexport function enableScroll () {\n  if (window.removeEventListener) { window.removeEventListener('DOMMouseScroll', preventDefault, false) }\n  window.onmousewheel = document.onmousewheel = null\n  window.onwheel = null\n  window.ontouchmove = null\n  document.onkeydown = null\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/toggleScroll.js","/**\n// B-> Here you define its functions and its payload\nvar mdnAPI = 'https://developer.mozilla.org/en-US/search.json';\nvar payload = {\n  'topic' : 'js',\n  'q'     : 'Promise'\n};\nvar callback = {\n  success : function(data){\n     console.log(1, 'success', JSON.parse(data));\n  },\n  error : function(data){\n     console.log(2, 'error', JSON.parse(data));\n  }\n};\n// End B\n// Executes the method call\n$http(mdnAPI)\n  .get(payload)\n  .then(callback.success)\n  .catch(callback.error);\n// Executes the method call but an alternative way (1) to handle Promise Reject case\n$http(mdnAPI)\n  .get(payload)\n  .then(callback.success, callback.error);\n// Executes the method call but an alternative way (2) to handle Promise Reject case\n$http(mdnAPI)\n  .get(payload)\n  .then(callback.success)\n  .then(undefined, callback.error);\n */\n// A-> $http function is implemented in order to follow the standard Adapter pattern\nimport {serialize} from './serialize'\nimport {isEmpty, mergeObj, addPrefixToObj, wrapObj} from './utilities'\nimport {rorParams as RPs} from './csrf'\n\nexport function $http (url) {\n  // A small example of object\n  var core = {\n\n    // Method that performs the ajax request\n    ajax: function (method, url, args = {}, prefix) {\n      // for Rails\n      // url = url + '.json';\n      // Creating a promise\n      var promise = new Promise(function (resolve, reject) {\n        // Instantiates the XMLHttpRequest\n        var client = new XMLHttpRequest()\n\n        if (method === 'POST' || method === 'PUT' || method === 'PATCH' || method === 'DELETE') {\n          let uri = JSON.stringify(extendGeneralParams(wrapObj(args, prefix)))\n          client.open(method, url)\n          // client.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n          client.setRequestHeader('Content-type', 'application/json')\n          client.send(uri)\n        } else if (method === 'GET') {\n          let uri = serialize(extendGeneralParams(addPrefixToObj(args, prefix)))\n          client.open(method, url + '?' + uri)\n          client.setRequestHeader('Content-type', 'application/json')\n          client.send()\n        };\n\n        client.onload = function () {\n          if (this.status >= 200 && this.status < 300) {\n            // Performs the function \"resolve\" when this.status is equal to 2xx\n            resolve(this.response)\n          } else {\n            // Performs the function \"reject\" when this.status is different than 2xx\n            reject(this.responseText)\n          }\n        }\n        client.onerror = function (err) {\n          reject(this.responseText)\n        }\n      })\n\n      // Return the promise\n      return promise\n    }\n  }\n  // Adapter pattern\n  return {\n    'get': function (args, prefix) {\n      return core.ajax('GET', url, args, prefix)\n    },\n    'post': function (args, prefix) {\n      return core.ajax('POST', url, args, prefix)\n    },\n    'put': function (args, prefix) {\n      return core.ajax('PUT', url, args, prefix)\n    },\n    'patch': function (args, prefix) {\n      return core.ajax('PATCH', url, args, prefix)\n    },\n    'delete': function (args, prefix) {\n      return core.ajax('DELETE', url, args, prefix)\n    }\n  }\n}\n\nfunction extendGeneralParams (obj) {\n  let csrfParam = RPs.csrfParam()\n  let csrfToken = RPs.csrfToken()\n  let generalObj = {}\n  generalObj.utf8 = ''\n  generalObj.format = 'json'\n  generalObj[csrfParam] = csrfToken\n  return mergeObj(obj, generalObj)\n}\n// End A\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/ajax.js","import {insertAfter, strToDom} from './utilities'\nexport function flash (data, callback = function () {}) {\n  let flashEle = strToDom(flashTpl(data))\n  document.body.appendChild(flashEle)\n  setTimeout(destory.bind(null, flashEle, callback), 2000)\n}\n\nfunction flashTpl (data) {\n  let str = `\n\t\t<div class=\"flash-layer ${data.error ? 'error' : 'success'}\">\n\t\t\t<div class=\"message\">${data.error || data.message}</div>\n\t\t</div>\n\t`\n  return str\n}\n\nfunction destory (ele, callback) {\n  ele.addEventListener('animationend', function () {\n    document.body.removeChild(ele)\n  })\n  ele.classList.add('blink')\n  callback()\n}\n\nexport function parseAndFlash (data, callback) {\n  let jsonData = JSON.parse(data)\n  flash(jsonData, callback)\n  return jsonData\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/flash.js","import {disableScroll, enableScroll} from './toggleScroll'\nexport function popup (ev, params, callback) {\n  let popupEle = document.createElement('div')\n  popupEle.classList.add('popup-layer')\n  popupEle.innerHTML = generatePopupTpl()\n  positionPopupEle(popupEle, ev)\n  bindPopupEvents(popupEle, ev, params, callback)\n  document.body.appendChild(popupEle)\n  disableScroll()\n}\n\nfunction generatePopupTpl (data) {\n  let tpl = `\n    <div class=\"popup-shadow\">\n      <div class=\"popup-content\">\n\t\t\t\t<div class=\"popup-text\">Are you sure to delete this API?</div>\n\t\t\t\t<div class=\"popup-btns\">\n\t\t\t\t\t<span class=\"popup-btn popup-cancel-btn\">cancel</span>\n\t\t\t\t\t<span class=\"popup-btn popup-confirm-btn\">confirm</span>\n\t\t\t\t</div>\n      </div>\n    </div>\n\t`\n  return tpl\n}\n\nfunction bindPopupEvents (ele, ev, params, callback) {\n  ele.getElementsByClassName('popup-cancel-btn')[0].addEventListener('click', closePopup)\n  ele.getElementsByClassName('popup-shadow')[0].addEventListener('click', closePopup)\n  ele.getElementsByClassName('popup-confirm-btn')[0].addEventListener('click', confirm.bind(this, ev, ele, params, callback))\n}\n\nfunction confirm (ev, ele, params, callback) {\n  callback()\n  document.body.removeChild(ele)\n}\n\nfunction positionPopupEle (ele, coordinates) {\n  ele.getElementsByClassName('popup-content')[0].style.transform = 'translate3d(' + coordinates.clientX + 'px, ' + coordinates.clientY + 'px, 0)'\n}\n\nfunction closePopup (ev) {\n  if (ev.target !== ev.currentTarget) return\n  let popLayer = ev.target.closest('.popup-layer')\n  if (popLayer) {\n    document.body.removeChild(popLayer)\n    enableScroll()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/popup.js","/**\n * [serialize converts recursive objects]\n * @param  {[type]} obj    [description]\n * @param  {[type]} prefix [description]\n * @return {[type]}        [description]\n * console.log(serialize({foo: \"hi there\", bar: { blah: 123, quux: [1, 2, 3] }}));\n * foo=hi%20there&bar%5Bblah%5D=123&bar%5Bquux%5D%5B0%5D=1&bar%5Bquux%5D%5B1%5D=2&bar%5Bquux%5D%5B2%5D=3\n */\nexport function serialize (obj, prefix) {\n  var str = []\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p)) {\n      var k = prefix ? prefix + '[' + p + ']' : p, v = obj[p]\n      str.push(typeof v === 'object'\n        ? serialize(v, k)\n        : encodeURIComponent(k) + '=' + encodeURIComponent(v))\n    }\n  }\n  return str.join('&')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/serialize.js","/**\n * [Tree description]\n * @param {[type]} data [description]\n *\n * _root points to the root node of a tree.\n * traverseDF(callback) traverses nodes of a tree with DFS.\n * traverseBF(callback) traverses nodes of a tree with BFS.\n * contains(data, traversal) searches for a node in a tree.\n * add(data, toData, traverse) adds a node to a tree.\n * remove(child, parent) removes a node in a tree.\n *\n */\nimport {Queue} from './queue'\nexport function Tree (data) {\n  var node = new Node(data)\n  this._root = node\n}\n\nfunction Node (data) {\n  this.nodeId = data.nodeId // leaf index, starts from 0(root node)\n  this.parent = null\n  this.children = []\n  // added later\n  this.childrenlevel = 1 // rows of descendants of current node\n  this.column = 0 // which column the current node sits in, starts from 0( root node sits in)\n  this.totaloffsetylevel = 0 // total vertical offset to the current tree\n  this.data = data.data || {}\n}\n\nTree.prototype.traverseDF = function (callback) {\n  // this is a recurse and immediately-invoking function\n  (function recurse (currentNode) {\n    // step 2\n    for (var i = 0, length = currentNode.children.length; i < length; i++) {\n      // step 3\n      recurse(currentNode.children[i])\n    }\n\n    // step 4\n    callback(currentNode)\n\n    // step 1\n  })(this._root)\n}\n\n// for those nodes who have children\nfunction calcChildrenLevels (node) {\n  var totalChildrenLevels = 0\n  for (var i = 0; i < node.children.length; i++) {\n    totalChildrenLevels += node.children[i].childrenlevel\n  };\n  return totalChildrenLevels\n}\nTree.prototype.calcChildrenLevel = function () {\n  var callback = function (node) {\n    node.childrenlevel = node.children.length > 0 ? calcChildrenLevels(node) : 1\n    node.column = node.parent ? (node.parent.column + 1) : 0\n  }\n\n  this.traverseDF(callback)\n}\n\nfunction calcOffY (arr, data) {\n  var nodeIdx = findIndex(arr, data)\n  var totalY = 0\n  for (var i = 0; i < nodeIdx; i++) {\n    totalY += arr[i].childrenlevel\n  };\n  return totalY\n}\n\nTree.prototype.calcTotalOffsetYLevel = function () {\n  var levelgap = 0\n  var callback = function (node) {\n    if (node.parent) {\n      node.totaloffsetylevel = node.parent.totaloffsetylevel + calcOffY(node.parent.children, node.nodeId)\n    } else if (node.parent === null) {\n\n    };\n  }\n\n  this.traverseBF(callback)\n}\n\nTree.prototype.traverseBF = function (callback) {\n  var queue = new Queue()\n\n  queue.enqueue(this._root)\n\n  var currentTree = queue.dequeue()\n\n  while (currentTree) {\n    for (var i = 0, length = currentTree.children.length; i < length; i++) {\n      queue.enqueue(currentTree.children[i])\n    }\n\n    callback(currentTree)\n    currentTree = queue.dequeue()\n  }\n}\n\nTree.prototype.contains = function (callback, traversal) {\n  traversal.call(this, callback)\n}\n\nTree.prototype.add = function (data, toData, traversal) {\n  var child = new Node(data),\n    parent = null,\n    callback = function (node) {\n      if (node.nodeId === toData) {\n        parent = node\n      }\n    }\n\n  this.contains(callback, traversal)\n\n  if (parent) {\n    parent.children.push(child)\n    child.parent = parent\n  } else {\n    throw new Error('Cannot add node to a non-existent parent.')\n  }\n\n  this.calcChildrenLevel()\n  this.calcTotalOffsetYLevel()\n  this.checkDataHasChild()\n  return child\n}\n\nTree.prototype.remove = function (data, fromData, traversal) {\n  var tree = this,\n    parent = null,\n    childToRemove = null,\n    index\n\n  var callback = function (node) {\n    if (node.nodeId === fromData) {\n      parent = node\n    }\n  }\n\n  this.contains(callback, traversal)\n\n  if (parent) {\n    index = findIndex(parent.children, data)\n\n    if (index === undefined) {\n      throw new Error('Node to remove does not exist.')\n    } else {\n      childToRemove = parent.children.splice(index, 1)\n    }\n  } else {\n    throw new Error('Parent does not exist.')\n  }\n\n  this.calcChildrenLevel()\n  this.calcTotalOffsetYLevel()\n  this.checkDataHasChild()\n  return childToRemove\n}\n\nfunction findIndex (arr, data) {\n  var index\n\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i].nodeId === data) {\n      index = i\n    }\n  }\n\n  return index\n}\n\n/* tree addon */\n\nTree.prototype.traverseDirectChild = function (nodedata) {\n  var queue = new Queue(),\n    parent = null,\n    callback = function (node) {\n      if (node.nodeId === nodedata) {\n        parent = node\n      }\n    }\n\n  this.contains(callback, this.traverseBF)\n\n  while (parent) {\n    for (var i = 0, length = parent.children.length; i < length; i++) {\n      queue.enqueue(parent.children[i])\n    }\n    callback(parent)\n    parent = null\n  }\n  return queue\n}\nTree.prototype.applyStyle = function () {\n  var styleObj = {}\n  var callback = function (node) {\n    styleObj[node.nodeId] = node.totaloffsetylevel\n  }\n  this.traverseBF(callback)\n\n  return styleObj\n}\n\n/**\n * [traverseDescendants description]\n * @param  {[integer]} nodeData [description]\n * @return {[array]}         [description]\n */\nTree.prototype.traverseDescendants = function (nodeData) {\n  var queue = new Queue(),\n    parent = null,\n    callback = function (node) {\n      if (node.nodeId === nodeData) {\n        parent = node\n      }\n    }\n\n  this.contains(callback, this.traverseBF)\n\n  queue.enqueue(parent)\n\n  var currentTree = queue.dequeue()\n  var descendantsArr = []\n\n  while (currentTree) {\n    descendantsArr.push(currentTree)\n    for (var i = 0, length = currentTree.children.length; i < length; i++) {\n      queue.enqueue(currentTree.children[i])\n    }\n\n    currentTree = queue.dequeue()\n  }\n\n  return descendantsArr\n}\n\nTree.prototype.checkDataHasChild = function () {\n  let callback = function (node) {\n    node.data.hasChild = node.children.length > 0\n  }\n  this.traverseBF(callback)\n}\n\n/* get Max nodeId from tree */\nTree.prototype.maxId = function () {\n  let maxNodeId = 0\n  let callback = function (node) {\n    if (node.nodeId > maxNodeId) maxNodeId = node.nodeId\n  }\n  this.traverseBF(callback)\n  return maxNodeId\n}\n\n/* tree depth */\nTree.prototype.depth = function () {\n  var depthArr = []\n  var callback = function (node) {\n    let depth = 0\n    if (node.children.length === 0) {\n      while (node.parent !== null) {\n        depth += 1\n        node = node.parent\n      }\n      depthArr.push(depth)\n    }\n  }\n  this.traverseDF(callback)\n  return depthArr\n}\n\nTree.prototype.dimensions = function () {\n  let horiMax, verticalMax, horiArr = []\n  horiArr = this.depth()\n  horiMax = Math.max.apply(null, horiArr)\n  verticalMax = this._root.childrenlevel\n  return [horiMax, verticalMax]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/api-tree/tree.js","export function twoWayDataBinding (data, domContext) {\n  /* Instatiate an empty `model` object. */\n  var model = {}\n  /* Iterate over the keys of the supplied `data` object. */\n  Object.keys(data).forEach(function (key) {\n    /* Store our value inside the `forEach` closure. */\n    var value = data[key]\n    Object.defineProperty(model, key, {\n      /* We want our property to appear in `for..in` loops. */\n      enumerable: true,\n      get: function () {\n        /* This doesn't need to do much, only return the `value` from our closure. */\n        return value\n      },\n      set: function (val) {\n        /* Overwrite our closures `value` with the new `val`. */\n        value = val\n        /* Select all nodes with `bind` and `model` attributes. */\n        selectorToArray('[bind=' + key + ']', domContext).concat(selectorToArray('[model=' + key + ']', domContext)).forEach(function (el) {\n          /* If element has `bind` attribute, set it's `textContent`. */\n          if (el.getAttribute('bind') && !el.hasAttribute('bind-toggle-class')) el.textContent = value\n          if (el.hasAttribute('bind-toggle-class')) {\n            if (value === true || value === 'true') {\n              el.classList.add('toggle-true')\n            } else if (value === false || value === 'false') {\n              el.classList.remove('toggle-true')\n            } else if (value && ('' + value).length > 0 && !hasActiveEle(elAndDescendants(el))) {\n              el.classList.add('toggle-true')\n            }\n          }\n          if (el.hasAttribute('bind-attr-href')) {\n            el.setAttribute('href', value)\n          }\n          /* If element has `model` attribute, set it's `value`. */\n\n          if (el.getAttribute('model') && el !== document.activeElement) {\n            el.value = value\n          }\n        })\n      }\n    })\n    /* Set our model objects property value to the same value. */\n    model[key] = value\n    /* Add change handlers to inputs on the page. */\n    selectorToArray('[model=' + key + ']', domContext).forEach(function (el) {\n      /* Our handler simply sets our models `key` to the element's value. */\n      function handler () {\n        model[key] = el.value\n      }\n      /* Bind a `keyup` handler so we get live feedback on each key press. */\n      // el.addEventListener('keyup', handler);\n      /* Bind a `change` handler which is fired when the element is blurred. */\n      el.addEventListener('input', handler)\n    })\n  })\n  /* Return our new model object. */\n  return model\n}\n\n/* include domContext itsself */\nfunction selectorToArray (selector, domContext) {\n  let arr = Array.prototype.slice.call(domContext.querySelectorAll(selector))\n  if (domContext.matches(selector)) {\n    arr.push(domContext)\n  }\n  return arr\n}\n\nfunction elAndDescendants (el) {\n  let resultArr = [];\n  (function loop (ele) {\n    let childrenEles = ele.children\n    if (ele.childElementCount) {\n      for (var i = childrenEles.length - 1; i >= 0; i--) {\n        loop(childrenEles[i])\n      }\n    }\n    resultArr.push(ele)\n  })(el)\n  return resultArr\n}\nfunction hasActiveEle (arr) {\n  let bol = false\n  if (arr.length === 0) return\n  for (var i = arr.length - 1; i >= 0; i--) {\n    if (bol === true) break\n    bol = arr[i] === document.activeElement\n  }\n  return bol\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/twoWayDataBinding.js","export const rootAPI = window.location.origin + '/apis'\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/global/constant.js","import {$http} from '../common/ajax'\nimport {rootAPI} from '../global/constant'\nimport {html} from '../common/template'\nimport {popup} from '../common/popup'\nimport {slide} from '../common/slide'\nimport {insertAfter, strToDom, debounce} from '../common/utilities'\nimport {flash, parseAndFlash} from '../common/flash'\nimport {ApiDom} from '../api-tree/treeDom'\nimport {twoWayDataBinding} from '../common/twoWayDataBinding'\n\nlet payload = {}\nlet apisArr = []\n\nvar callback = {\n  getApiSuccess: function (data) {\n    addApiTree(JSON.parse(data), this, false)\n  },\n  getAllApisSuccess: function (data) {\n    let dataBak = data\n    let JSONBak = JSON.parse(dataBak)\n    if (JSONBak.length === 0) {\n      newApiBtn()\n      return\n    }\n    renderAllApis(data)\n    bindevents()\n    listenApiQuery()\n  },\n  patchSuccess: function (data) {\n    parseAndFlash(data)\n  },\n  postSuccess: function (data) {\n    parseAndFlash(data)\n  },\n  deleteSuccess: function (data) {\n    function destoryApiLi () {\n      this.target.closest('.api-ul').removeChild(this.target.closest('.api-li'))\n    }\n    parseAndFlash(data, destoryApiLi.bind(this))\n  },\n  apiQuerySuccess: function (data) {\n    let searchList = document.getElementsByClassName('api-search-result')[0]\n    let dataObj = JSON.parse(data)\n    let contentStr = ''\n    for (let i = 0, Len = dataObj.length; i < Len; i++) {\n      contentStr += `<div class='per-search-result'>\n        <span class=\"per-result-column per-result-uri\">${dataObj[i].uri}</span>\n        <span class=\"per-result-column per-result-section\">${dataObj[i].section}</span>\n        <span class=\"per-result-column per-result-method\">${dataObj[i].method}</span>\n        <span class=\"per-result-column per-result-description\">${dataObj[i].description}</span>\n      </div>`\n    }\n    searchList.innerHTML = contentStr\n    dataObj.length > 0 ? searchList.classList.remove('hide') : searchList.classList.add('hide')\n  },\n  success: function (data) {\n    console.log(data)\n  },\n  error: function (data) {\n    if (!data.data) {\n      newApiBtn()\n      return\n    }\n    parseAndFlash(data)\n  }\n}\nexport function initApiOperation () {\n  getAllApis()\n}\n\nexport function disposeApiOperation () {\n\n}\n\nlet debouncedApiQueryInput = debounce(apiQuery, 100, false)\nfunction listenApiQuery () {\n  let apiQueryInput = document.getElementsByClassName('api-query')[0]\n  let inWrapper = false\n  apiQueryInput.addEventListener('keyup', debouncedApiQueryInput)\n  apiQueryInput.parentElement.addEventListener('mouseleave', function (ev) {\n    if (!checkIfFocus.apply(apiQueryInput, ev)) {\n      clearSearchResult()\n    };\n    inWrapper = false\n  })\n  apiQueryInput.parentElement.addEventListener('mouseenter', function (ev) {\n    inWrapper = true\n  })\n  apiQueryInput.addEventListener('blur', function (ev) {\n    if (!inWrapper) clearSearchResult()\n  })\n  apiQueryInput.addEventListener('focus', apiQuery)\n}\nfunction checkIfFocus (ev) {\n  return this === document.activeElement\n}\nfunction apiQuery (ev) {\n  if (ev.target.value.length <= 0) {\n    clearSearchResult()\n    return\n  }\n  payload = {q: ev.target.value}\n  $http(window.location.origin + '/instantsearch')\n  .get(payload)\n  .then(callback.apiQuerySuccess.bind(ev))\n  .catch(callback.error)\n}\nfunction clearSearchResult () {\n  let apiSearchResultEle = document.getElementsByClassName('api-search-result')[0]\n  apiSearchResultEle.innerHTML = ''\n  apiSearchResultEle.classList.add('hide')\n}\nfunction toggleFoldLi (context, ev) {\n  if (!ev) {\n    context.classList.toggle('unfold')\n    return\n  }\n  if (!ev.target.classList.contains('api-li-wiki')) {\n    context.classList.toggle('unfold')\n  }\n}\nfunction bindEventToApiLiDescription (ev) {\n  toggleFoldLi(this, ev)\n  if (this.nextElementSibling) {\n    return\n  };\n  $http(rootAPI + '/' + this.parentNode.dataset.apiId)\n  .get(payload)\n  .then(callback.getApiSuccess.bind(this.parentNode))\n  .catch(callback.error)\n}\nfunction bindevents () {\n  let apiLis = document.getElementsByClassName('api-li-summary');\n  [].slice.call(apiLis).forEach(function (element, index) {\n    element.addEventListener('click', function (ev) {\n      bindEventToApiLiDescription.call(this, ev)\n    })\n  })\n}\nfunction addApiTree (data = {}, containerNode, isNewApi) {\n  let newApi = new ApiDom(data, containerNode, isNewApi)\n  apisArr.push(newApi)\n}\n\nlet debouncedNewApiBtn = debounce(processNewApiClick, 500, true)\nlet debouncedEnvBtn = debounce(processOpenEnvSettings, 500, true)\nfunction processOpenEnvSettings (ev, el) {\n  let params = {\n    content: slideContent()\n  }\n  slide(ev, params)\n}\nfunction slideContent () {\n  let tplStr = `\n    <ul>\n      <li>\n        <label>host:</label>\n        <input class=\"c-input\" type=\"text\" />\n        <label>account:</label>\n        <input class=\"c-input\" type=\"text\" />\n        <label>label:</label>\n        <input class=\"c-input\" type=\"text\" />\n        <input class=\"\" type=\"button\" value=\"check availability\" />\n      </li>\n    </ul>\n  `\n  return tplStr\n}\nfunction processNewApiClick () {\n  let apiUl = document.getElementsByClassName('api-ul')[0]\n  if (!apiUl) {\n    createApiUl()\n    apiUl = document.getElementsByClassName('api-ul')[0]\n  }\n  let baseApiLi = strToDom(newApiLiTpl())\n  apiUl.insertBefore(baseApiLi, apiUl.firstChild)\n  addApiTree({}, baseApiLi, true)\n  toggleFoldLi(baseApiLi.children[0])\n  baseApiLi.children[0].addEventListener('click', function (ev) {\n    bindEventToApiLiDescription.call(this, ev)\n  })\n}\n\nfunction createApiUl () {\n  let apiListEle = document.createElement('div')\n  let apiUlEle = document.createElement('ul')\n  let newApiDiv = document.getElementsByClassName('api-add-query')[0]\n  apiListEle.classList.add('api-ul-wrapper')\n  apiUlEle.classList.add('api-ul')\n  apiListEle.appendChild(apiUlEle)\n  insertAfter(apiListEle, newApiDiv)\n}\nfunction newApiBtn () {\n  let newApiDiv\n  // let header = document.getElementsByClassName('api-header-pre-mark')[0];\n  // let newApiStr = `\n  //   <div class=\"api-add-query\">\n  //     <span class=\"add-api-btn\">new API</span>\n  //     <div class=\"api-search-wrapper\">\n  //       <input class=\"api-query\" type=\"search\" placeholder=\"search\">\n  //       <div class=\"api-search-result hide\"></div>\n  //     </div>\n  //     <a class=\"c-hide icon-text-link c-float-right dev-env-settings\" href=\"javascript:;\"><span class=\"icon-text-icon\"><svg class=\"icon icon-settings icon-fit\"><use xlink:href=\"#icon-settings\"></use></svg></span><span class=\"icon-text-text\"></span></a>\n  //   </div>\n  // `;\n  // newApiDiv = strToDom(newApiStr);\n  newApiDiv = document.getElementsByClassName('api-add-query')[0]\n  newApiDiv.getElementsByClassName('add-api-btn')[0].addEventListener('click', debouncedNewApiBtn)\n  newApiDiv.getElementsByClassName('dev-env-settings')[0].addEventListener('click', debouncedEnvBtn)\n  // insertAfter(newApiDiv, header);\n  return newApiDiv\n}\n\nfunction newApiLiTpl (data = {}) {\n  var tpl = `\n    <li class=\"api-li\" data-api-id=\"${data.id || null}\">\n      <div class=\"api-li-summary\">\n        <span class=\"api-li-collapse\"><svg class=\"icon icon-down\"><use xlink:href=\"#icon-down\"></use></svg></span>\n        <span class=\"api-li-uri\" bind=\"uri\">${data.uri || '(No uri)'}</span>\n        <span class=\"api-li-des\" bind=\"description\">${data.description ? data.description : '(No description)'}</span>\n        <a href=\"${data.wikiLink}\" class=\"api-li-wiki\" bind-attr-href=\"wikiLink\" bind=\"wikiLink\" target=\"_blank\">${data.wikiLink ? data.wikiLink : '(No wikiLink)'}</a>\n      </div>\n    </li>\n  `\n  return tpl\n}\nfunction renderAllApis (data) {\n  data = JSON.parse(data)\n  const tmpl = data => html`\n      <ul class=\"api-ul\">\n      ${data.map(item => html`\n        ${newApiLiTpl(item)}\n      `)}\n      </ul>\n  `\n  let apiListEle = document.createElement('div')\n  apiListEle.classList.add('api-ul-wrapper')\n  apiListEle.innerHTML = tmpl(data)\n  insertAfter(apiListEle, newApiBtn())\n}\n\nfunction getAllApis () {\n  $http(rootAPI)\n  .get(payload)\n  .then(callback.getAllApisSuccess)\n  .catch(callback.error)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/modules/apiOperation.js","import {Tree} from './tree'\nexport function jsonToTree (nodesArr) {\n  let hashTable = {}\n  let tree\n  for (let i = 0, nodesLen = nodesArr.length; i < nodesLen; i++) {\n    hashTable[nodesArr[i]['parentId']] ? hashTable[nodesArr[i]['parentId']].push(nodesArr[i]) : hashTable[nodesArr[i]['parentId']] = [nodesArr[i]]\n  }\n  // node IDnodeID\n  let modKeysArr = removeEleFromArr(Object.keys(hashTable), 'null').map(Number).sort(sortNumber)\n  let rootNodeData = hashTable['null'][0]\n  tree = new Tree(rootNodeData)\n\n  for (let j = 0, keysLen = modKeysArr.length; j < keysLen; j++) {\n    if (hashTable.hasOwnProperty(modKeysArr[j])) {\n      for (let k = 0, keyArrLen = hashTable[modKeysArr[j]].length; k < keyArrLen; k++) {\n        tree.add(hashTable[modKeysArr[j]][k], +modKeysArr[j], tree.traverseBF)\n      }\n    }\n  }\n  return tree\n}\n\nfunction removeEleFromArr (arr, ele) {\n  var index = arr.indexOf(ele)\n  if (index > -1) {\n    arr.splice(index, 1)\n  }\n  return arr\n}\n\n/* By default the sort method sorts elements alphabetically. */\nfunction sortNumber (a, b) {\n  return a - b\n}\n\nexport function treeToJson (tree) {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/api-tree/jsonTreeConverter.js","/**\n * [Queue description]\n * enqueue(data) adds data to a queue.\n * dequeue removes the oldest added data to a queue.\n */\nexport function Queue () {\n  this._oldestIndex = 1\n  this._newestIndex = 1\n  this._storage = {}\n}\n\nQueue.prototype.size = function () {\n  return this._newestIndex - this._oldestIndex\n}\n\nQueue.prototype.enqueue = function (data) {\n  this._storage[this._newestIndex] = data\n  this._newestIndex++\n}\n\nQueue.prototype.dequeue = function () {\n  var oldestIndex = this._oldestIndex,\n    newestIndex = this._newestIndex,\n    deletedData\n\n  if (oldestIndex !== newestIndex) {\n    deletedData = this._storage[oldestIndex]\n    delete this._storage[oldestIndex]\n    this._oldestIndex++\n\n    return deletedData\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/api-tree/queue.js","import {mergeObj} from '../common/utilities'\nexport function collectApiData (tree, opEle) {\n  let perApiEle = opEle.closest('.per-api')\n  // let treeEle = perApiEle.getElementsByClassName('api-tree')[0];\n  return mergeObj(collectInfo(perApiEle), collectDataFromTree(tree))\n}\n\nfunction collectInfo (perApiEle) {\n  let infoEle = perApiEle.getElementsByClassName('api-info')[0]\n  let ModesRowEle = perApiEle.getElementsByClassName('api-modes-row')[0]\n  let infoData = {}\n  infoData = {\n    'section': infoEle.getElementsByClassName('api-section')[0].value,\n    'uri': infoEle.getElementsByClassName('api-uri')[0].value,\n    'method': infoEle.getElementsByClassName('api-method')[0].value,\n    'description': infoEle.getElementsByClassName('api-description')[0].value,\n    'wikiLink': infoEle.getElementsByClassName('api-wiki-input')[0].value,\n    'mode': getModeVal(ModesRowEle),\n    'debugAddr': getDebugAddr(ModesRowEle)\n  }\n\n  return infoData\n}\n\nfunction getModeVal (ModesRowEle) {\n  var radios = ModesRowEle.getElementsByClassName('api-mode')\n  var modeVal\n  for (var i = 0, length = radios.length; i < length; i++) {\n    if (radios[i].checked) {\n      modeVal = radios[i].value\n      break\n    }\n  }\n  return modeVal\n}\n\nfunction getDebugAddr (ModesRowEle) {\n  return ModesRowEle.getElementsByClassName('mode-debugging-addr')[0].value\n}\n\nfunction collectTree (treeEle) {\n  let leaves = [].slice.call(treeEle.getElementsByClassName('leaf'))\n  let treeDataArr = []\n  let treeDataObj = {}\n  let leafData\n  for (let i = 0, leavesLen = leaves.length; i < leavesLen; i++) {\n    leafData = {}\n    leafData.parentId = leaves[i].dataset.parent\n    leafData.nodeId = leaves[i].dataset.index\n    leafData.key = leaves[i].getElementsByClassName('leaf-key')[0].value\n    leafData.value = leaves[i].getElementsByClassName('leaf-value')[0].value\n    leafData.quantity = leaves[i].getElementsByClassName('leaf-quantity')[0].value\n    treeDataArr.push(leafData)\n  };\n  treeDataObj.nodes = treeDataArr\n  return treeDataObj\n}\n\nfunction collectDataFromTree (apiTree) {\n  let tree = apiTree\n  let nodesArr = []\n  let treeDataObj = {}\n  let dimensionsArr = []\n  let callback = function (node) {\n    if (node === null) return\n    let nodeData = {}\n    nodeData.nodeId = node.nodeId\n    nodeData.column = node.column\n    nodeData.parentId = node.parent === null ? null : node.parent.nodeId\n    nodeData.childrenlevel = node.childrenlevel\n    nodeData.totaloffsetylevel = node.totaloffsetylevel\n    nodeData.data = node.data\n    nodeData.data.hasChild = node.children.length > 0\n    nodesArr.push(nodeData)\n  }\n  tree.traverseDF(callback)\n  dimensionsArr = tree.dimensions()\n  treeDataObj.dimensions = {}\n  treeDataObj.dimensions.hUnit = dimensionsArr[0]\n  treeDataObj.dimensions.vUnit = dimensionsArr[1]\n  treeDataObj.nodes = nodesArr\n  return treeDataObj\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/api-tree/treeDataCollect.js","/**\n * width of single svg path: 30px\n */\n'use strict'\nimport {Tree} from './tree'\nimport {$http} from '../common/ajax'\nimport {popup} from '../common/popup'\nimport {rootAPI} from '../global/constant'\nimport {flash, parseAndFlash} from '../common/flash'\nimport {collectApiData} from './treeDataCollect'\nimport {getTranslateX, xhr, beautifyJSON, hightlightJSON} from './utilities'\nimport {jsonToTree} from './jsonTreeConverter'\nimport {twoWayDataBinding} from '../common/twoWayDataBinding'\nimport {callbacks} from '../common/callbacks'\nimport {scrollBarH} from '../common/scroll'\nimport {generateUUID} from '../common/utilities'\n\nfunction perApiTpl (data, isNewApi = false) {\n  let apiUUID = generateUUID()\n  let tpl =\n      `<div class=\"api-info\">\n          <label class=\"api-label\">API:</label>\n          <input class=\"api-uri\" placeholder=\"\" value=\"\" model=\"uri\" /> \n          <label class=\"api-label\">method:</label>\n          <select class=\"api-method\" model=\"method\">\n              <option value=\"GET\">GET</option>\n              <option value=\"POST\">POST</option>\n              <option value=\"PATCH\">PATCH</option>\n              <option value=\"DELETE\">DELETE</option>\n          </select>\n          <label>section:</label>\n          <input class=\"api-section\" type=\"text\" model=\"section\" />\n          <label for=\"\">description:</label>\n          <input class=\"api-description\" type=\"text\" model=\"description\" />\n          <span class=\"api-save\" data-method=\"${patchOrPost(isNewApi)}\" data-action=\"/apis${saveOrCreate(data, isNewApi)}\" >${isNewApi ? 'create' : 'save'}</span>\n          <span class=\"api-respond-preview-btn\">preview</span>\n          <span class=\"api-wiki\" bind-toggle-class bind=\"wikiLink\">\n            <label class=\"api-wiki-label\">Wiki: </label>\n            <input class=\"api-wiki-input\" type=\"text\" model=\"wikiLink\" />\n          </span>\n      </div>\n      <div class=\"api-modes-row\">\n        <label class=\"api-mode-label\"><input class=\"api-mode\" type=\"radio\" name=\"${apiUUID}-mode\" value=\"0\"></label>\n        <label class=\"api-mode-label api-mode-debug\"><input class=\"api-mode\" type=\"radio\" name=\"${apiUUID}-mode\" value=\"1\"><input class=\"mode-debugging-addr\" type=\"text\" /></label>\n        <label class=\"api-mode-label\"><input class=\"api-mode\" type=\"radio\" name=\"${apiUUID}-mode\" value=\"2\"></label>\n      </div>\n      <div class=\"api-tree-wrapper\">\n        <div class=\"api-tree-content-wrapper\">\n          <div class=\"api-tree-content\">\n            <div class=\"api-tree-frame\">\n              <svg class=\"api-svg\" width=\"100%\" height=\"100%\"></svg>\n            </div>\n            <div class=\"api-tree\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"api-respond-preview\">\n          <div class=\"preview-control-wrapper\">\n            <div class=\"preview-control\">\n                <span class=\"per-preview-type preview-raw\">raw</span>\n                <span class=\"per-preview-type preview-beautify\">beautify</span>\n                <span class=\"per-preview-type preview-highlight\">syntaxHighlight</span>\n            </div>\n          </div>\n          <div class=\"data-view json\">\n          </div>\n      </div>`\n  return tpl\n}\n\nfunction leafTpl () {\n  let leafContentTpl = `\n    <i class=\"remove-child\">-</i>\n    <input type=\"text\" class=\"leaf-key\" placeholder=\"key\" model=\"dataName\" />\n    <i class=\"gap-mark\">---</i>\n    <input type=\"text\" class=\"leaf-value\" placeholder=\"value\" model=\"dataValue\" />\n    <select class=\"leaf-value-type\" model=\"dataType\">\n        <option value=\"String\">String</option>\n        <option value=\"Integer\">Integer</option>\n        <option value=\"Float\">Float</option>\n        <option value=\"Boolean\">Boolean</option>\n        <option value=\"Array\">Array</option>\n        <option value=\"Hash\">Hash</option>\n        <option value=\"Regex\">Regex(string)</option>\n        <option value=\"Fixed\">Fixed(string)</option>\n        <option value=\"Null\">Null</option>\n    </select>\n    <i class=\"gap-mark\">---</i>\n    <i class=\"add-child\">+</i>\n    <input type=\"text\" class=\"leaf-quantity\" placeholder=\"quantity\" model=\"dataQuantity\" />\n    <span class=\"leaf-hide-quantity\"></span>\n  `\n  return leafContentTpl\n}\n\n/* default getBoundingRectObj */\nlet initRectObj = {\n  right: 0,\n  bottom: 0,\n  left: 0,\n  top: 0,\n  width: 0,\n  height: 0\n}\n\nlet leafDataPlaceHolder = {\n  dataName: '',\n  dataType: 'String',\n  dataValue: '',\n  dataQuantity: '1',\n  hasChild: false\n}\n\n/*\nsingle leaf width: 460px;\n */\nconst perLeafWidth = 460\nconst perLeafHeight = 22\nconst leavesVerticalGap = 30\nconst perSVGPathWidth = 30\nvar rootNodeWidth = perSVGPathWidth + 14\nvar callback = {\n  patchSuccess: function (data) {\n    this.apiRawData = data\n    this.apiDataObj = JSON.parse(data).data\n    parseAndFlash(data)\n  },\n  postSuccess: function (data) {\n    this.apiRawData = data\n    this.apiDataObj = JSON.parse(data).data\n    parseAndFlash(data)\n    this.apiContainer.getElementsByClassName('api-save')[0].textContent = 'save'\n    this.apiContainer.getElementsByClassName('api-save')[0].dataset.method = 'PATCH'\n  },\n  deleteSuccess: function (data) {\n    function destoryApiLi () {\n      this.target.closest('.api-ul').removeChild(this.target.closest('.api-li'))\n    }\n    parseAndFlash(data, destoryApiLi.bind(this))\n  },\n  success: function (data) {\n  },\n  error: function (data) {\n    parseAndFlash(data)\n  },\n  apiRespondSuccess: function (data) {\n    let jsonObj = JSON.parse(data)\n    this.previewData = data\n    this.previewDataObj = jsonObj\n    switchPreview(this.previewDataObj, hightlightJSON, this.eventContext, 'highlight')\n  }\n}\n\nfunction patchOrPost (isNewApi) {\n  return isNewApi ? 'POST' : 'PATCH'\n}\n\nfunction saveOrCreate (data, isNewApi) {\n  return isNewApi ? '' : `/${data.id}`\n}\n\nfunction createPerApi (data, isNewApi) {\n  var perApiEle = document.createElement('div')\n  perApiEle.setAttribute('class', 'per-api')\n  perApiEle.dataset.id = isNewApi ? '' : data.id\n  perApiEle.innerHTML = perApiTpl(data, isNewApi)\n  perApiEle.getElementsByClassName('api-uri')[0].value = isNewApi ? '' : data.uri\n  return perApiEle\n}\nfunction createNewApiInitData () {\n  let initData = {\n    nodeId: 0,\n    parentId: null,\n    data: leafDataPlaceHolder\n  }\n  let firstChildData = {\n    nodeId: 1,\n    parentId: 0,\n    data: leafDataPlaceHolder\n  }\n  return {\n    mode: '0',\n    debugAddr: '',\n    nodes: [initData, firstChildData]\n  }\n}\n\nexport function ApiDom (data, containerNode, isNewApi = false) {\n  if (isNewApi) {\n    data = createNewApiInitData()\n  }\n  this.apiDataObj = data\n  this.apiContainer = containerNode\n  let perApiEle = createPerApi(data, isNewApi)\n  this.apiContainer.appendChild(perApiEle)\n\n  let apiBindData = twoWayDataBinding(data, this.apiContainer)\n  data = apiBindData\n\n  this.apiEle = this.apiContainer.getElementsByClassName('per-api')[0]\n\n  this.leafIndex = 1\n\n  this.$apiTree = this.apiEle.getElementsByClassName('api-tree')[0]\n  this.$apiTreeFrame = this.apiEle.getElementsByClassName('api-tree-frame')[0]\n  this.$apiTreeContent = this.apiEle.getElementsByClassName('api-tree-content')[0]\n  // if (isNewApi) {\n  //   this.initApiTree();\n  //   this.calcDimensions();\n  // } else {\n  this.renderExistTree(data)\n  // }\n\n  this.apiReturnData = ''\n\n  this.apiEle.addEventListener('click', bindEvent.bind(this))\n  this.setModeVal(data.mode)\n  this.setDebugAddr(data.debugAddr)\n  this.scrollBar = scrollBarH({\n    wrapper: this.apiContainer.getElementsByClassName('api-tree-wrapper')[0],\n    content: this.apiContainer.getElementsByClassName('api-tree-content-wrapper')[0],\n    overflowEle: this.apiContainer.getElementsByClassName('api-tree-content')[0]\n  })\n}\n\nApiDom.prototype.renderExistTree = function (data) {\n  let docFrag = document.createDocumentFragment()\n\n  let perTWDBArr = []\n  if (data.nodes && data.nodes.length) {\n    let nodesArr = data.nodes\n    let nodeData = {}\n    let leaf\n    let leafData = {}\n    let perTWDB\n    for (var i = 0, len = nodesArr.length; i < len; i++) {\n      leaf = undefined\n      leaf = generateLeaf(data.nodes[i])\n      if (data.nodes[i].data === undefined || data.nodes[i].data === '') {\n        data.nodes[i].data = leafDataPlaceHolder\n      };\n      if (data.nodes[i].parentId === null || data.nodes[i].parentId === 'null') leaf.classList.add('root-leaf')\n      perTWDB = twoWayDataBinding(data.nodes[i].data, leaf)\n      data.nodes[i].data = perTWDB\n      perTWDBArr.push(perTWDB)\n      docFrag.appendChild(leaf)\n    }\n    this.leafIndex += (len - 2)\n  }\n  this.apiTree = jsonToTree(data.nodes)\n  this.$apiTree.appendChild(docFrag)\n  this.calcDimensions()\n  this.drawSVG()\n}\n\nfunction generateLeaf (nodeData) {\n  var newLeafSpan = document.createElement('span')\n  newLeafSpan.setAttribute('class', 'leaf')\n  newLeafSpan.setAttribute('bind', 'hasChild')\n  newLeafSpan.setAttribute('bind-toggle-class', '')\n  newLeafSpan.dataset.parentId = nodeData.parentId\n  newLeafSpan.dataset.nodeId = nodeData.nodeId\n  newLeafSpan.innerHTML = leafTpl()\n  newLeafSpan.style['transform'] = 'translate3d(' +\n                                    Math.round((perLeafWidth + perSVGPathWidth) * (nodeData.column - 1)) + 'px, ' +\n                                    Math.round(nodeData.totaloffsetylevel * (perLeafHeight + leavesVerticalGap)) + 'px, 0)'\n  return newLeafSpan\n}\nApiDom.prototype.setDebugAddr = function (val) {\n  this.apiContainer.getElementsByClassName('mode-debugging-addr')[0].value = val\n}\nApiDom.prototype.setModeVal = function (val) {\n  var radios = this.apiContainer.getElementsByClassName('api-mode')\n  for (var i = 0, length = radios.length; i < length; i++) {\n    if (val === radios[i].value) {\n      radios[i].setAttribute('checked', true)\n      break\n    } else {\n      radios[i].setAttribute('checked', false)\n    }\n  }\n}\nfunction bindEvent (ev) {\n  /* _$this is ApiDom, while this is its wrapper(object). */\n  let _this = this\n  let evTargetClassList = ev.target.classList\n  let eventContext = {_ev: ev, domContainer: ev.target.closest('.api-li')}\n  this.eventContext = eventContext\n  if (evTargetClassList.contains('api-save')) {\n    let params = collectApiData(_this.apiTree, _this.$apiTree)\n    if (this.apiDataObj.id) {\n      $http(rootAPI + '/' + this.apiDataObj.id)\n      .patch(params, 'api')\n      .then(callback.patchSuccess.bind(this))\n      .catch(callback.error)\n    } else if (!this.apiDataObj.id) {\n      $http(rootAPI)\n      .post(params, 'api')\n      .then(callback.postSuccess.bind(this))\n      .catch(callback.error)\n    }\n    return null\n  };\n\n  if (evTargetClassList.contains('add-child')) {\n    _this.addChild(ev)\n    return null\n  };\n\n  if (evTargetClassList.contains('remove-child')) {\n    if (ev.target.parentElement.classList.contains('root-leaf')) {\n      popup(ev, {}, deleteApi.bind(_this, ev))\n    } else {\n      _this.delNode(ev)\n    }\n    return null\n  };\n\n  if (evTargetClassList.contains('api-respond-preview-btn')) {\n    if (!this.apiDataObj.id) {\n      flash({error: 'Save first.'})\n      return null\n    };\n    let params = {dawn_uri: this.apiDataObj.uri}\n    let context = {}\n    $http(window.location.origin + '/apiresponse')\n    .get(params)\n    .then(callback.apiRespondSuccess.bind(this))\n    .catch(callback.error)\n    return null\n  };\n\n  if (evTargetClassList.contains('api-wiki-label')) {\n    ev.target.closest('.api-wiki').classList.toggle('toggle-true')\n  }\n  if (evTargetClassList.contains('preview-raw')) {\n    return switchPreview(this.previewDataObj, JSON.stringify, this.eventContext, 'raw')\n  };\n\n  if (evTargetClassList.contains('preview-beautify')) {\n    return switchPreview(this.previewDataObj, beautifyJSON, this.eventContext, 'beautify')\n  };\n\n  if (evTargetClassList.contains('preview-highlight')) {\n    return switchPreview(this.previewDataObj, hightlightJSON, this.eventContext, 'highlight')\n  };\n}\n\nfunction switchPreview (dataObj, fn, previewContext, previewType) {\n  let previewStr = fn.call(null, dataObj)\n  jsonView.call(previewContext.domContainer, previewStr)\n  switchPreviewStatus(previewContext, previewType)\n  return null\n}\n\nfunction switchPreviewStatus (previewContext, applyType) {\n  let previewTypes = ['raw', 'beautify', 'highlight']\n  let apiRespondPreviewEle = previewContext.domContainer.getElementsByClassName('api-respond-preview')[0]\n  let apiRespondPreviewEleClassArr = apiRespondPreviewEle.className.trim().split(' ')\n  apiRespondPreviewEleClassArr.forEach(function (element, index, array) {\n    let idx = previewTypes.indexOf(element)\n    if (idx > -1) {\n      array.splice(array.indexOf(element), 1)\n    }\n  })\n  let previewTypeElesArr = [].slice.call(previewContext.domContainer.getElementsByClassName('per-preview-type'))\n  previewTypeElesArr.forEach(function (element, index) {\n    element.classList.remove('active')\n  })\n  previewContext.domContainer.getElementsByClassName('preview-' + applyType)[0].classList.add('active')\n  apiRespondPreviewEle.className = apiRespondPreviewEleClassArr.join(' ')\n  apiRespondPreviewEle.classList.add(applyType)\n}\n\nfunction apiSave () {\n\n}\nfunction addLeafChild () {\n\n}\nfunction removeLeafChild () {\n\n}\nfunction apiTest () {\n\n}\nfunction jsonView (data) {\n  var $pre = document.createElement('pre')\n  $pre.innerHTML = data\n  let $dataViewEle = this.getElementsByClassName('data-view')[0]\n  $dataViewEle.innerHTML = ''\n  $dataViewEle.appendChild($pre)\n}\n\nfunction deleteApi (ev) {\n  if (!this.apiDataObj.id) {\n    ev.target.closest('.api-ul').removeChild(ev.target.closest('.api-li'))\n    return null\n  };\n\n  let params = {}\n  console.log(rootAPI)\n  $http(rootAPI + '/' + this.apiDataObj.id)\n  .delete(params)\n  .then(callbacks.deleteSuccess.bind(ev))\n  .catch(callbacks.error)\n}\n\nApiDom.prototype.storeApiReturnData = function (data) {\n  this.apiReturnData = data\n  this.$dataBeautify.click()\n}\n\nApiDom.prototype.initApiTree = function () {\n  let initData = {\n    nodeId: 0,\n    data: leafDataPlaceHolder\n  }\n  let firstChildData = {\n    nodeId: 1,\n    data: leafDataPlaceHolder\n  }\n  this.apiTree = new Tree(initData)\n  this.apiTree.add(firstChildData, 0, this.apiTree.traverseBF)\n\n  let treeDocFrag = document.createDocumentFragment()\n\n  let callback = function (node) {\n    let leafEle\n    let leafBindData\n    node.parentId = node.parent ? node.parent.nodeId : null\n    leafEle = generateLeaf(node)\n    leafBindData = twoWayDataBinding(leafDataPlaceHolder, leafEle)\n    node.data = leafBindData\n    if (node.parentId === null || node.parentId === 'null') leafEle.classList.add('root-leaf')\n    treeDocFrag.appendChild(leafEle)\n  }\n\n  this.apiTree.traverseBF(callback)\n  this.$apiTree.appendChild(treeDocFrag)\n\n  return this.apiTree\n}\n\nApiDom.prototype.delNode = function (ctx) {\n  var currentLeaf = ctx.target.closest('.leaf')\n  var currentIdx = +ctx.target.parentNode.dataset.nodeId\n  var parentIdx = (+ctx.target.parentNode.dataset.parentId === 0) ? 0 : +ctx.target.parentNode.dataset.parentId\n\n  var nodesArr = this.apiTree.traverseDescendants(currentIdx)\n  var idxArr = nodesArrToIdxArr(nodesArr)\n  this.apiTree.remove(currentIdx, parentIdx, this.apiTree.traverseBF)\n  this.removeNodesFromDom(idxArr)\n\n  var obj = this.apiTree.applyStyle()\n  this.styleNodes(obj)\n  this.setParentNodeVal(parentIdx)\n  this.scrollBar.render()\n}\nApiDom.prototype.removeNodesFromDom = function (arr) {\n  var allLeaves = Array.prototype.slice.call(this.$apiTree.getElementsByClassName('leaf'))\n  var allLeavesLen = allLeaves.length\n  for (var i = 0; i < allLeavesLen; i++) {\n    if (arr.indexOf(+allLeaves[i].dataset.nodeId) !== -1) {\n      this.$apiTree.removeChild(allLeaves[i])\n    }\n  };\n}\nfunction nodesArrToIdxArr (nodesArr) {\n  var nodesArrLen = nodesArr.length\n  var idxArr = []\n  for (var i = 0; i < nodesArrLen; i++) {\n    idxArr.push(nodesArr[i].nodeId)\n  };\n  return idxArr\n}\n\nApiDom.prototype.setParentNodeVal = function (idx) {\n  var leaves = Array.prototype.slice.call(this.$apiTree.getElementsByClassName('leaf'))\n  var queue = this.apiTree.traverseDirectChild(idx)\n  var queueLen = queue._newestIndex - queue._oldestIndex\n  for (var i = 0, x = leaves.length; i < x; i++) {\n    if (+leaves[i].dataset.nodeId === idx) {\n      if (queueLen > 0) {\n        // leaves[i].getElementsByClassName('leaf-value')[0].value = '';\n      } else {\n        // leaves[i].getElementsByClassName('leaf-value')[0].value = '';\n      };\n      break\n    };\n  };\n}\n\nApiDom.prototype.addChild = function (ctx) {\n  this.leafIndex = this.apiTree.maxId() + 1\n  var parentIdex = +ctx.target.parentNode.dataset.nodeId\n\n  let leafChild = createLeaf(parentIdex, this.leafIndex)\n  let childModel = twoWayDataBinding(leafDataPlaceHolder, leafChild)\n  let leafData = {\n    nodeId: this.leafIndex,\n    data: childModel\n  }\n  this.apiTree.add(leafData, parentIdex, this.apiTree.traverseBF)\n  this.$apiTree.appendChild(leafChild)\n  var obj = this.apiTree.applyStyle()\n  this.styleNodes(obj)\n  this.setParentNodeVal(parentIdex)\n  this.scrollBar.render()\n}\n\nfunction generateLeafSpan (parentId, nodeIndex) {\n  var newLeafSpan = document.createElement('span')\n  newLeafSpan.setAttribute('class', 'leaf')\n  newLeafSpan.setAttribute('bind', 'hasChild')\n  newLeafSpan.setAttribute('bind-toggle-class', '')\n  newLeafSpan.dataset.parentId = parentId\n  newLeafSpan.dataset.nodeId = nodeIndex\n  newLeafSpan.innerHTML = leafTpl()\n  return newLeafSpan\n}\nfunction createLeaf (parentIdx, nodeIdx) {\n  return generateLeafSpan(parentIdx, nodeIdx)\n}\nApiDom.prototype.styleNodes = function () {\n  var leaves = Array.prototype.slice.call(this.$apiTree.getElementsByClassName('leaf'))\n\n  let leavesHash = {}\n  for (let i = 0, leavesLen = leaves.length; i < leavesLen; i++) {\n    leavesHash[leaves[i].dataset.nodeId] = leaves[i]\n  }\n  var callback = function (node) {\n    if (node.nodeId <= 0) return\n    leavesHash[node.nodeId].style['transform'] = 'translate3d(' +\n                                      Math.round((perLeafWidth + perSVGPathWidth) * (node.column - 1)) + 'px, ' +\n                                      Math.round(node.totaloffsetylevel * (perLeafHeight + leavesVerticalGap)) + 'px, 0)'\n  }\n  this.apiTree.traverseBF(callback)\n  this.dimensionArr = this.calcDimensions()\n  this.drawSVG()\n}\n\n/* utils */\nfunction cloneRectObj (obj) {\n  return {\n    top: obj.top,\n    bottom: obj.bottom,\n    left: obj.left,\n    right: obj.right,\n    width: obj.width,\n    height: obj.height\n  }\n}\n\n/* manipulate SVG */\nApiDom.prototype.clearSVG = function () {\n  var svg = this.$apiTreeFrame.getElementsByClassName('api-svg')[0]\n  while (svg.lastChild) {\n    svg.removeChild(svg.lastChild)\n  }\n}\n/**\n * [drawSVG description]\n * @return {[type]} [description]\n */\nApiDom.prototype.drawSVG = function () {\n  this.clearSVG()\n  var that = this\n  var svgPartials = []\n  var callback = function (node) {\n    if (node.parent !== null) {\n      svgPartials.push(that.createSingleSVG(node.nodeId, node.column, node.parent.totaloffsetylevel, (node.totaloffsetylevel - node.parent.totaloffsetylevel)))\n    };\n  }\n  this.apiTree.traverseDF(callback)\n\n  var docFrag = document.createDocumentFragment()\n  for (var i = 0; i < svgPartials.length; i++) {\n    docFrag.appendChild(svgPartials[i])\n  }\n  this.$apiTreeFrame.getElementsByClassName('api-svg')[0].appendChild(docFrag)\n}\n\nApiDom.prototype.createSingleSVG = function (idx, hori, parentVert, dvert) {\n  var svgns = 'http://www.w3.org/2000/svg'\n  var newPath = document.createElementNS(svgns, 'path')\n  var controlRate = 0.2\n  var mx, my, qx, qy, qxx, qyy, tx, ty\n  hori = hori - 1\n  dvert = dvert\n  parentVert = parentVert\n\n  mx = hori * 490 /* single leaf width plus single svg path width */\n  my = parentVert * 52 + 8\n  qx = mx + 10\n  qy = my\n  qxx = mx + 15\n  qyy = (my + (dvert / 2) * 52)\n  tx = mx + 30\n  ty = my + dvert * 52\n\n  newPath.setAttributeNS(null, 'd', 'M ' + mx + ' ' + my + ' Q ' + qx + ' ' + qy + ', ' +\n                                    qxx + ' ' + qyy + ' T ' +\n                                     tx + ' ' + ty + '')\n  newPath.setAttribute('class', 'api-svg-path')\n  newPath.setAttribute('data-idx', idx)\n\n  return newPath\n}\n\n/* calculate dimensions */\nApiDom.prototype.calcDimensions = function () {\n  var horiMax, verticalMax, horiArr = [], vertArr = []\n\n  horiArr = this.apiTree.depth()\n  horiMax = Math.max.apply(null, horiArr)\n  verticalMax = this.apiTree._root.childrenlevel\n  this.$apiTreeFrame.style.width = horiMax * 520 + 'px'\n  this.$apiTreeContent.style.width = horiMax * 520 + 'px'\n  this.$apiTreeFrame.style.height = verticalMax * 52 - (verticalMax > 1 ? 10 : 0) + 'px'\n  this.$apiTreeContent.style.height = verticalMax * 52 - (verticalMax > 1 ? 10 : 0) + 'px'\n  return [horiMax, verticalMax]\n}\n\n/* calculate offset */\n\nApiDom.prototype.nodeLeftOffset = function (el) {\n  var elRectObject = el.getBoundingClientRect()\n  var bodyRectObj = this.$apiTree.getBoundingClientRect()\n  var cloneBodyRectObj = cloneRectObj(bodyRectObj)\n  var cloneElRectObject = cloneRectObj(elRectObject)\n  cloneElRectObject.top += Math.abs(cloneBodyRectObj.top)\n  cloneElRectObject.bottom += Math.abs(cloneBodyRectObj.top)\n  cloneElRectObject.left += Math.abs(cloneBodyRectObj.left)\n  cloneElRectObject.right += Math.abs(cloneBodyRectObj.left)\n  return cloneElRectObject\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/api-tree/treeDom.js","export function getMaxOfArray (numArray) {\n  return Math.max.apply(null, numArray)\n}\n\nexport function hasClass (elem, className) {\n  return elem.className.split(' ').indexOf(className) > -1\n}\n\nexport function browserPrefix () {\n  var ua = navigator.userAgent.toLowerCase(), prefix = ''\n  prefix = (ua.indexOf('chrome') >= 0 || window.openDatabase) ? '-webkit-' : (ua.indexOf('firefox') >= 0) ? '-moz-' : window.opera ? '-o-' : (document.all && navigator.userAgent.indexOf('Opera') === -1) ? '-ms-' : ''\n  return prefix\n}\n\nexport function getTransform (el) {\n  var transform = window.getComputedStyle(el, null).getPropertyValue('-webkit-transform')\n  var results = transform.match(/matrix(?:(3d)\\(-{0,1}\\d+(?:, -{0,1}\\d+)*(?:, (-{0,1}\\d+))(?:, (-{0,1}\\d+))(?:, (-{0,1}\\d+)), -{0,1}\\d+\\)|\\(-{0,1}\\d+(?:, -{0,1}\\d+)*(?:, (-{0,1}\\d+))(?:, (-{0,1}\\d+))\\))/)\n\n  if (!results) return [0, 0, 0]\n  if (results[1] == '3d') return results.slice(2, 5)\n\n  results.push(0)\n  return results.slice(5, 8) // returns the [X,Y,Z,1] values\n}\n\n// export function getTranslateX(el) {\n//   // chrome won't use prefix\n//   // var style_attr = browserPrefix() + 'transform';\n//   var style_attr = 'transform';\n//   var transform = window.getComputedStyle(el, null).getPropertyValue(style_attr);\n//   var results = transform.match(/matrix(?:(3d)\\(-{0,1}\\d+(?:, -{0,1}\\d+)*(?:, (-{0,1}\\d+))(?:, (-{0,1}\\d+))(?:, (-{0,1}\\d+)), -{0,1}\\d+\\)|\\(-{0,1}\\d+(?:, -{0,1}\\d+)*(?:, (-{0,1}\\d+))(?:, (-{0,1}\\d+))\\))/);\n//   if (!results) return [0, 0, 0];\n//   if (results[1] === '3d') return results.slice(2,5);\n//   results.push(0);\n//   return +(results.slice(5, 8)[0]); // returns the [X,Y,Z,1] values\n// }\n\nexport function getTranslateX (el) {\n  return el.getAttribute('style').split('translate3d')[1].split(', ')[0].slice(1).split('px')[0]\n}\n\nexport function getTranslateY (obj) {\n  if (!window.getComputedStyle) return\n  var style = getComputedStyle(obj),\n    transform = style.transform || style.webkitTransform || style.mozTransform\n  var mat = transform.match(/^matrix3d\\((.+)\\)$/)\n  if (mat) return parseFloat(mat[1].split(', ')[13])\n  mat = transform.match(/^matrix\\((.+)\\)$/)\n  return mat ? parseFloat(mat[1].split(', ')[5]) : 0\n}\n\nfunction serialize (obj, prefix) {\n  var str = []\n  for (var p in obj) {\n    if (obj.hasOwnProperty(p)) {\n      var k = prefix ? prefix + '[' + p + ']' : p, v = obj[p]\n      str.push(typeof v === 'object'\n        ? serialize(v, k)\n        : encodeURIComponent(k) + '=' + encodeURIComponent(v))\n    }\n  }\n  return str.join('&')\n}\n\n/**\n * [stringify with 4 spaces at each level]\n * @param  {[object]} jsObj [description]\n * @return {[string]}       [description]\n * JSON.stringify(jsObj, null, \"\\t\"); // stringify with tabs inserted at each level\n */\nexport function beautifyJSON (jsObj) {\n  return JSON.stringify(jsObj, null, 4)\n}\n\n/**\n * [hightlightJSON works on JSON object, not string]\n * @param  {JSON object} json [description]\n * @return {string}      [description]\n */\nexport function hightlightJSON (json) {\n  json = JSON.stringify(json, undefined, 4)\n  json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;')\n  return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n    var cls = 'number'\n    if (/^\"/.test(match)) {\n      if (/:$/.test(match)) {\n        cls = 'key'\n      } else {\n        cls = 'string'\n      }\n    } else if (/true|false/.test(match)) {\n      cls = 'boolean'\n    } else if (/null/.test(match)) {\n      cls = 'null'\n    }\n    return '<span class=\"' + cls + '\">' + match + '</span>'\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/api-tree/utilities.js","import {flash, parseAndFlash} from './flash'\nexport let callbacks = {\n  deleteSuccess: function (data) {\n    function destoryApiLi () {\n      this.target.closest('.api-ul').removeChild(this.target.closest('.api-li'))\n    }\n    parseAndFlash(data, destoryApiLi.bind(this))\n  },\n  success: function (data) {\n  },\n  error: function (data) {\n    parseAndFlash(data)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/callbacks.js","export function htmlEscape (str) {\n  str = '' + str // for numbers etc.\n  return str.replace(/&/g, '&amp;') // first!\n            .replace(/>/g, '&gt;')\n            .replace(/</g, '&lt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&#39;')\n            .replace(/`/g, '&#96;')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/htmlEscape.js","import {strToDom, debounce} from './utilities'\n\nfunction generateScrollStr () {\n  let scrollStr = `\n    <div class=\"opui-scroll-ctrl-scroll\">\n        <div class=\"opui-scroll-axis\"></div>\n        <div class=\"opui-scroll-slider\">\n            <div class=\"opui-scroll-s-top\"></div>\n            <div class=\"opui-scroll-s-bottom\"></div>\n            <div class=\"opui-scroll-s-block\"></div>\n        </div>\n    </div>\n    `\n  return scrollStr\n}\n\nexport function scrollBarH (b) {\n  return new a(b)\n}\n\nfunction a (x) {\n  var q = this\n  this.options = x\n  let newScrollStr = generateScrollStr()\n  let newScrollEle = strToDom(newScrollStr)\n  var Y = x.scrollbar || newScrollEle,\n    j = x.content,\n    N = x.overflowEle,\n    i = x.initPos || 0,\n    M = x.initDom || null,\n    U = x.mousewheel || true,\n    l = x.mousewheellock || false,\n    H = x.wheeldelta || 1,\n    z = x.ctrlblock || 0,\n    J = x.step || 0.1,\n    r = x.length,\n    I = x.scale || 0,\n    G = x.theme || '',\n    ad = x.refresh || false\n  var S = 0, T = 0, h = 0, V = function (ag) {\n      var af = parseInt(S - T)\n      if (af > 0) {\n        var ag = ag.value\n        j.scrollLeft = af * ag\n      }\n    },\n    v = newScrollEle.getElementsByClassName('opui-scroll-axis')[0],\n    g = newScrollEle.getElementsByClassName('opui-scroll-slider')[0],\n    u = newScrollEle.getElementsByClassName('opui-scroll-s-top')[0],\n    F = newScrollEle.getElementsByClassName('opui-scroll-s-bottom')[0],\n    ae = newScrollEle.getElementsByClassName('opui-scroll-s-block')[0],\n    W = 0, Q = z || 0, k = 0, R = Q, m = 0, C = 0, L = 0, d = 0, t = null, b = null, ab, P, D\n  var y = function () {\n    X = false\n    c = false\n  }\n\n  if (!x.scrollbar) {\n    x.wrapper.appendChild(newScrollEle)\n  }\n  j.classList.add('opui-scroll-ctrl-content')\n  Y.classList.add('opui-scroll-ctrl-scroll')\n  this.render = function (ag) {\n    if (!ad) {\n      clearInterval(D)\n    }\n    try {\n      T = j.offsetWidth\n      h = Y.offsetWidth\n      S = N.offsetWidth\n    } catch (ah) {}\n    W = ag || r || T - 2\n    Y.style.width = W + 'px'\n    v.style.width = W + 'px'\n    if (W >= 0 && S >= 0) {\n      if (S <= W + 2) {\n        Y.style.display = 'none'\n      } else {\n        Y.style.display = 'block'\n      }\n      if (I != (S / W)) {\n        I = S / W\n        o(I)\n        Z(q.memOffsetX)\n      }\n      var af = 0\n      if (M) {\n        if (M.offsetLeft + M.scrollWidth >= S) {\n          af = 1\n        } else {\n          if (M.offsetLeft + M.scrollWidth <= T) {\n            af = 0\n          } else {\n            af = M.offsetLeft / S\n          }\n        }\n        console.log(af)\n        Z(af)\n      }\n      if (i) {\n        console.log(i)\n        Z(i)\n      }\n    }\n  }\n\n  D = setInterval(this.render, 50)\n  // Y.innerHTML = '';\n\n  g.onDragstart = function () {\n    return false\n  }\n\n  g.addEventListener('mouseover', function () {\n    g.classList.add('opui-scroll-slider-hover')\n    Y.classList.add('opui-scroll-ctrl-scroll-hover')\n  })\n  g.addEventListener('mousedown', function () {\n    g.classList.add('opui-scroll-slider-touch')\n    Y.classList.add('opui-scroll-ctrl-scroll-touch')\n  })\n  g.addEventListener('mouseout', function () {\n    g.classList.remove('opui-scroll-slider-hover')\n  })\n  g.addEventListener('mouseup', function () {\n    g.classList.remove('opui-scroll-slider-touch')\n  })\n  Y.addEventListener('mouseover', function () {\n    Y.classList.add('opui-scroll-ctrl-scroll-hover')\n  })\n  Y.addEventListener('mousedown', function () {\n    Y.classList.add('opui-scroll-ctrl-scroll-touch')\n  })\n  Y.addEventListener('mouseout', function () {\n    Y.classList.remove('opui-scroll-ctrl-scroll-hover')\n  })\n  Y.addEventListener('mouseup', function () {\n    Y.classList.remove('opui-scroll-ctrl-scroll-touch')\n  })\n  v.addEventListener('click', s)\n  if (U && !this.onwheel) {\n    if (!j.classList.contains('opui-scroll-onwheel')) {\n      j.addEventListener('DOMMouseScroll', p)\n      j.addEventListener('mousewheel', p)\n      j.classList.add('opui-scroll-onwheel')\n    }\n  }\n  if (j) {\n    j.addEventListener('scroll', function () {\n      if (!d) {\n        Z(j.scrollLeft / (j.scrollWidth - j.offsetWidth), 1)\n      }\n    })\n  }\n\n  g.addEventListener('mousedown', function (af) {\n    t = document.onselectstart\n    document.onselectstart = function () {\n      return false\n    }\n\n    b = window.setInterval(n, 40)\n    N.style['-moz-user-select'] = 'none'\n    N.style['-webkit-user-select'] = 'none'\n\n    L = af.clientX - g.offsetLeft\n    document.addEventListener('mousemove', f)\n    document.addEventListener('mouseup', aa)\n    d = 1\n    af.preventDefault()\n    return false\n  })\n  function K (ag, ah, af) {\n    if (af) {\n      ag = ag > af ? af : ag\n    }\n    return ag >= ah ? ag : ah\n  }\n  function n () {\n    V.call(window, {\n      value: C,\n      scale: I\n    })\n  }\n  function O () {\n    if (ab) {\n      clearInterval(ab)\n    }\n    E()\n    ab = setInterval(function () {\n      if (X) {\n        E()\n      } else {\n        clearInterval(ab)\n      }\n    }, 100)\n  }\n  function ac () {\n    if (P) {\n      clearInterval(P)\n    }\n    B()\n    P = setInterval(function () {\n      if (c) {\n        B()\n      } else {\n        clearInterval(P)\n      }\n    }, 100)\n  }\n  function E () {\n    var af = C - J\n    af = (af < 0) ? 0 : af\n    Z(af)\n  }\n  function B () {\n    var af = C + J\n    af = (af > 1) ? 1 : af\n    Z(af)\n  }\n  function f (af) {\n    af = window.event || af\n    var ag = K(af.clientX - L, R, m)\n    C = (ag - R) / (m - R)\n    g.style.left = ag + 'px'\n    q.memOffsetX = ag\n    return false\n  }\n  function aa () {\n    Y.classList.remove('opui-scroll-ctrl-scroll-hover')\n    Y.classList.remove('opui-scroll-ctrl-scroll-touch')\n    g.classList.remove('opui-scroll-slider-hover')\n    g.classList.remove('opui-scroll-slider-touch')\n    N.style['-moz-user-select'] = ''\n    N.style['-webkit-user-select'] = ''\n    if (b) {\n      window.clearInterval(b)\n    }\n    if (t) {\n      document.onselectstart = t\n    } else {\n      document.onselectstart = function () {\n        return true\n      }\n    }\n    document.removeEventListener('mousemove', f)\n    document.removeEventListener('mouseup', aa)\n    g.classList.add('opui-scroll-slider')\n    d = 0\n    return false\n  }\n  function s (af) {\n    Z((af.offsetX || af.layerX) / W)\n  }\n  function Z (ah, af) {\n    ah = ah < 0 ? 0 : ah\n    ah = ah > 1 ? 1 : ah\n    C = ah\n    var ag = (m - R) * C + R\n    g.style.left = ag + 'px'\n    q.memOffsetX = ag\n    if (!af) {\n      n()\n    }\n  }\n  function p (af) {\n    // af.preventDefault();\n    // af = af.originalEvent;\n    // if (af) {\n    //   this.onwheel = 1;\n    //   var ai = (-af.wheelDelta || (af.detail && af.detail * 40) || 0) / H;\n    //   var ah = ai;\n    //   var ag = ah > 0 ? j.scrollLeft + 2 : j.scrollLeft - 2;\n    //   N.style.zoom = '1';\n    //   if (ag > 0 && (ag < (N.offsetWidth - j.offsetWidth + 5) || (N.offsetWidth - j.scrollWidth < 0 && ah < 0))) {\n    //     j.scrollLeft += ah;\n    //     C = j.scrollLeft / (j.scrollWidth - j.offsetWidth);\n    //   } else {\n    //     if (!l || Y.style.display == 'none') {\n    //       document.documentElement.scrollLeft += ah;\n    //       document.body.scrollLeft += ah;\n    //     }\n    //   }\n    // }\n  }\n  function o (af) {\n    I = (af > 10) ? 10 : af\n    if (I <= 1) {\n      g.style.display = 'none'\n      return\n    }\n    g.style.display = 'block'\n    var ag = W - 2 * Q\n    k = parseInt(ag / I)\n    k = (k < 15) ? 15 : k\n    m = W - Q - k\n    g.style.width = k + 'px'\n  }\n  if (I > 1) {\n    o(I)\n  }\n  let debouncedWindowResize = debounce(reRender, 200, false)\n  window.addEventListener('resize', debouncedWindowResize)\n  function reRender () {\n    q.render()\n  }\n  this.dispose = function () {\n    if (t) {\n      document.onselectstart = t\n    } else {\n      document.onselectstart = function () {\n        return true\n      }\n    }\n    document.removeEventListener('mousemove', f)\n    document.removeEventListener('mouseup', aa)\n    document.removeEventListener('mouseup', y)\n    if (b) {\n      clearInterval(b)\n    }\n    if (ab) {\n      clearInterval(ab)\n    }\n    if (P) {\n      clearInterval(P)\n    }\n    if (D) {\n      clearInterval(D)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/scroll.js","import {popup} from '../common/popup'\nexport function slide (ev, params, callback) {\n  let slideEle = document.createElement('div')\n  slideEle.classList.add('slide-layer')\n  slideEle.innerHTML = generateSlideTpl(params.content)\n  positionSlideEle(slideEle, ev)\n  bindSlideEvents(slideEle, ev, params, callback)\n  document.body.appendChild(slideEle)\n}\n\nfunction generateSlideTpl (content) {\n  let tpl = `\n    <div class=\"slide-shadow\">\n      <div class=\"slide-content\">\n\t\t\t\t<div class=\"slide-text\">${content}</div>\n\t\t\t\t<div class=\"slide-btns\">\n\t\t\t\t\t<span class=\"slide-btn slide-cancel-btn\">cancel</span>\n\t\t\t\t\t<span class=\"slide-btn slide-confirm-btn\">confirm</span>\n\t\t\t\t</div>\n      </div>\n    </div>\n\t`\n  return tpl\n}\n\nfunction bindSlideEvents (ele, ev, params, callback) {\n  ele.getElementsByClassName('slide-cancel-btn')[0].addEventListener('click', closeSlide)\n  ele.getElementsByClassName('slide-shadow')[0].addEventListener('click', clickShadow)\n  ele.getElementsByClassName('slide-confirm-btn')[0].addEventListener('click', confirm.bind(this, ev, ele, params, callback))\n}\n\nfunction confirm (ev, ele, params, callback) {\n  callback()\n  document.body.removeChild(ele)\n}\n\nfunction positionSlideEle (ele, coordinates) {\n  // ele.getElementsByClassName('slide-content')[0].style.transform = 'translate3d(' + coordinates.clientX + 'px, ' + coordinates.clientY + 'px, 0)';\n}\n\nfunction clickShadow (ev) {\n  if (ev.target !== ev.currentTarget) return\n  popup(ev, undefined, closeSlide.bind(this, ev))\n}\n\nfunction closeSlide (ev) {\n  let popLayer = ev.target.closest('.slide-layer')\n  if (popLayer) {\n    document.body.removeChild(popLayer)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/slide.js","import {htmlEscape} from './htmlEscape'\nexport function html (literalSections, ...substs) {\n  // Use raw literal sections: we dont want\n  // backslashes (\\n etc.) to be interpreted\n  let raw = literalSections.raw\n\n  let result = ''\n\n  substs.forEach((subst, i) => {\n    // Retrieve the literal section preceding\n    // the current substitution\n    let lit = raw[i]\n\n    // In the example, map() returns an array:\n    // If substitution is an array (and not a string),\n    // we turn it into a string\n    if (Array.isArray(subst)) {\n      subst = subst.join('')\n    }\n\n    // If the substitution is preceded by a dollar sign,\n    // we escape special characters in it\n    if (lit.endsWith('$')) {\n      subst = htmlEscape(subst)\n      lit = lit.slice(0, -1)\n    }\n    result += lit\n    result += subst\n  })\n  // Take care of last literal section\n  // (Never fails, because an empty template string\n  // produces one literal section, an empty string)\n  result += raw[raw.length - 1] // (A)\n\n  return result\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/common/template.js","import {initApiOperation, disposeApiOperation} from '../modules/apiOperation';\n(function () {\n  A.init[A.gc.currentName] = initApiOperation\n  A.destroy[A.gc.currentName] = disposeApiOperation\n})()\n\n\n\n// WEBPACK FOOTER //\n// ./app/javascript/packs/entries/apiOperation.js"],"sourceRoot":""}